<!DOCTYPE html>
<html>
  <head>
    <title>On OpenID Attribute Exchange | Dennis Reimann, Softwareentwickler</title>
    <script src='/javascripts/head.min.js'></script>
    <script type='text/javascript'>
      //<![CDATA[
        head.js(
          "https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js",
          "http://www.google-analytics.com/ga.js",
          "/fancybox/jquery.fancybox-1.3.4.pack.js",
          "/fancybox/jquery.easing-1.3.pack.js",
          "/javascripts/website.js",
          function(){Website.init()});
      //]]>
    </script>
    <link href='/atom.xml' rel='alternate' title='//dennisreimann' type='application/atom+xml' />
    <link href='/stylesheets/print.css' media='print' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/screen.css' media='screen, projection' rel='stylesheet' type='text/css' />
    <link href='http://dennisreimann.de/blog/on-openid-attribute-exchange' rel='canonical' />
    <link href='http://openid.dennisreimann.de/server' rel='openid2.provider openid.server' />
    <link href='http://openid.dennisreimann.de/dennisreimann' rel='openid2.local_id openid.delegate' />
    <!--[if IE]>
      <link href='/stylesheets/ie.css' media='screen, projection' rel='stylesheet' type='text/css' />
    <![endif]-->
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
    <meta content='BRi3ql7JvxxFP2KtBRHIV6Rfzn0ZN7xJF1NNtnEUaI8' name='google-site-verification' />
    <meta content='app-id=669642611,affiliate-data=10l5ET' name='apple-itunes-app' />
    <meta content='Webentwicklung mit JavaScript' name='description' />
    <meta content='Attribute Exchange, AX, OpenID' name='keywords' />
  </head>
  <body>
    <div id="header">
      <div id='identity'>
        <a href='/' id='logo'>
          <span id='slashes'>//</span>
          <span id='name'>dennisreimann</span>
        </a>
        <div id='claim'>
          Software developer
        </div>
      </div>
    </div>
    <div id="main">
      <article>
        <header>
          <time class='pubdate' datetime='2008-04-29T01:01:00+02:00'>
            <div class='top'>Apr '08</div>
            <div class='day'>29</div>
          </time>
          <h1>On OpenID Attribute Exchange</h1>
        </header>
        <div class='content'><p>OpenID lets users verify the ownership of an identifier - namely their OpenID URL. The protocol can also be used to exchange further data and that is what the extensions <a href="http://openid.net/specs/openid-simple-registration-extension-1_0.html">SReg</a> (Simple Registration) and <a href="http://openid.net/specs/openid-attribute-exchange-1_0.html">Attribute Exchange</a> are for.</p>&#x000A;&#x000A;<p>You all probably know the case where you sign up for a new service using your OpenID: You are asked to identify and in most cases to submit some extra data, like an username and your email address. These are used by the relying party (the service you signed up for) to create an account and prefill the disclosed attributes. Almost every identity provider offers the possibility to manage different personae, so that you can decide which of your information should be used to sign up with. For instance you may have two personae: One for personal use and another one with your business data.</p>&#x000A;&#x000A;<p>At first, there was only SReg, which has a fixed set of nine attributes: nickname, email, gender, fullname, dob (date of birth), postcode, country, language and timezone. This offers the possibility to exchange some of the most basic user attributes, but has a major disadvantage: The set of attributes is fixed and cannot be extended, so that it is not possible to exchange the name of your home town or your website url.</p>&#x000A;&#x000A;<p>This is where Attribute Exchange comes into play: AX does not give us a fixed set of properties - it is a namespace in which custom attributes and their types can be defined, as for instance the ones that are defined in <a href="http://www.axschema.org/">AXSchema</a>. An attribute is a combination of type identifier, title, count and value. The type identifier is an URL and defines what the property is - a street address, phone number, blog url, whatever. The title is used to inform the user about the kind of data being requested, for instance &#8220;Your ICQ number&#8221;. Count defaults to one and offers the possibility to request more than one value of the same type. The value is the data that the user/identity provider discloses.</p>&#x000A;&#x000A;<p>Right now AX suffers the chicken-egg-problem: It is rarely supported by relying parties and identity providers - why request, when there is no one who responds? Same the other way round&#8230; but AXSchema lays the ground to solve this problem: Relying parties are given a set of attributes they can start to request and identity providers who already support SReg can easily migrate to support AX. Theoretically Simple Registration is deprecated, now that there is Attribute Exchange.</p>&#x000A;&#x000A;<p>But there is even more to it: AX is not just about relying parties fetching user data, the specification already contains <a href="http://rakuto.blogspot.com/2008/03/ruby-why-does-storerequest-of-openid.html">store requests</a>, too. Attribute Exchange Store can be used by the relying parties to transfer updated data back to the identity providers. Well, this seems to be far ahead, but nevertheless it offers interesting possibilities and I will spend some time experimenting with it.</p>&#x000A;&#x000A;<p>Last week I implemented the fetch part of Attribute Exchange in <a href="https://github.com/dennisreimann/masq">masquerade</a>. It was fairly easy, as it is already supported by the ruby-openid gem and one basically just has to define some extra mappings for type identifiers to persona attributes. The only other identity provider supporting Attribute Exchange Fetch I know so far is <a href="http://myopenid.com">MyOpenID</a>. <a href="http://rakuto.blogspot.com/2008/03/ruby-fetch-some-attributes-from.html">They do not support the AXSchema type identifiers</a>, but I guess this will be fixed soon, which would be great, because MyOpenID seems to be pushing the innovation in the OpenID community.</p>&#x000A;&#x000A;<p>To offer myself a sandbox in which I can test exchanging data between identity provider and relying party, I also implemented AX fetch requests for <a href="http://venteria.com">venteria</a>. Theoretically - or practically, if your identity provider supports AXSchema - you can now update your venteria profile with your submitted persona details on every login.</p>&#x000A;&#x000A;<p>I will be using Attribute Exchange extensively in my bachelor thesis, which is about identity management in academia. I will be using masquerade to setup an OpenID provider for the <a href="http://www.uni-bremen.de/">University of Bremen</a> so that we can offer OpenIDs to students, who can use them to sign up for lectures or use them to verify their student status to relying parties. This is <a href="http://walkah.net/blog/walkah/google-soc-drupal-openid-and-attribute-exchange">an interesting field of research</a> and some work has already been done - for example there is an <a href="http://www.educause.edu/eduperson">eduperson</a> namespace defined in Shibboleth. Follow up my progress here, as I will be writing about it in the upcoming weeks :)</p></div>
        <div class='follow'>
          <p>
            Liked this post? Follow me on
            <a class="twitter" href="https://twitter.com/dennisreimann">Twitter</a>
            or
            <a class="github" href="https://github.com/dennisreimann">GitHub</a>
          </p>
        </div>
        <div class='teaser' id='iOctocat' itemscope='itemscope' itemtype='http://schema.org/SoftwareApplication'>
          <a href='http://ioctocat.com'>
            <img alt='iPhone app for GitHub' itemprop='image' src='/images/ioctocat.png' />
          </a>
          <h3 itemprop='name'>
            <a href='http://ioctocat.com'>
              iOctocat
            </a>
          </h3>
          <p itemprop='description'>
            is GitHub in your pocket: The go to app for staying up to date with your
            projects on your
            <span itemprop='device'>iPhone, and iPod Touch.</span>
            <br />
            It is
            <a href="http://ioctocat.com/appstore-iphone" itemprop="url">available on the App Store</a>
          </p>
          <link href='http://schema.org/SocialNetworkingApplication' itemprop='SoftwareApplicationCategory' />
        </div>
      </article>
    </div>
    <div id="footer">
      <div class='vcard' id='contact'>
        <span class='fn'>Dennis Reimann</span>
        <p class='adr'>
          <span class='street-address'>Ottjen-Alldag-Str. 32</span>
          <br />
          <span class='postal-code'>D-28277</span>
          <span class='locality'>Bremen</span>
        </p>
        <p>
          <span class='web'><a class="url" href="http://dennisreimann.de/" rel="me">dennisreimann.de</a></span>
          <br />
          <span class='mail'><a class="email" href="mailto:mail@dennisreimann.de" rel="me">mail@dennisreimann.de</a></span>
          <br />
          <span class='tel'>+49 (0)151 22 63 03 17</span>
        </p>
        <p>
          <small><a href="/contact">Contact details</a></small>
        </p>
        <ul class='social'>
          <li><a href="https://github.com/dennisreimann" rel="me">GitHub</a></li>
          <li><a href="https://twitter.com/dennisreimann" rel="me">Twitter</a></li>
          <li><a href="http://www.xing.com/profile/Dennis_Reimann5" rel="me">XING</a></li>
        </ul>
      </div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-376258-21']);
        _gaq.push(['_gat._anonymizeIp']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
        })();
      //]]>
    </script>
  </body>
</html>
