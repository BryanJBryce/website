<!DOCTYPE html>
<html>
  <head>
    <title>Merb mal genauer betrachtet | Dennis Reimann, Softwareentwickler</title>
    <script src='/javascripts/head.min.js'></script>
    <script type='text/javascript'>
      //<![CDATA[
        head.js(
          "https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js",
          "http://www.google-analytics.com/ga.js",
          "/fancybox/jquery.fancybox-1.3.4.pack.js",
          "/fancybox/jquery.easing-1.3.pack.js",
          "/javascripts/website.js",
          function(){Website.init()});
      //]]>
    </script>
    <link href='/atom.xml' rel='alternate' title='//dennisreimann' type='application/atom+xml' />
    <link href='/stylesheets/print.css' media='print' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/screen.css' media='screen, projection' rel='stylesheet' type='text/css' />
    <link href='http://dennisreimann.de/blog/merb-mal-genauer-betrachtet' rel='canonical' />
    <link href='http://openid.dennisreimann.de/server' rel='openid2.provider openid.server' />
    <link href='http://openid.dennisreimann.de/dennisreimann' rel='openid2.local_id openid.delegate' />
    <!--[if IE]>
      <link href='/stylesheets/ie.css' media='screen, projection' rel='stylesheet' type='text/css' />
    <![endif]-->
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
    <meta content='BRi3ql7JvxxFP2KtBRHIV6Rfzn0ZN7xJF1NNtnEUaI8' name='google-site-verification' />
    <meta content='app-id=669642611,affiliate-data=10l5ET' name='apple-itunes-app' />
    <meta content='Programmierung mit Ruby on Rails' name='description' />
    <meta content='DataMapper, Frameworks, Merb, Ruby, Ruby on Rails' name='keywords' />
  </head>
  <body>
    <div id="header">
      <div id='identity'>
        <a href='/' id='logo'>
          <span id='slashes'>//</span>
          <span id='name'>dennisreimann</span>
        </a>
        <div id='claim'>
          Softwareentwickler
        </div>
      </div>
    </div>
    <div id="main">
      <article>
        <header>
          <time class='pubdate' datetime='2008-03-02T15:38:00+01:00'>
            <div class='top'>Mar '08</div>
            <div class='day'> 2</div>
          </time>
          <h1>Merb mal genauer betrachtet</h1>
        </header>
        <div class='content'><p>Vor einiger Zeit habe ich mal eine <a href="/blog/ruby-webdev-framework-overload/">kleine Liste von Rails-Alternative</a> zusammengestellt und mir dieses Wochenende die Zeit genommen, mich mal genauer umzusehen. Durch einen <a href="http://www.rubyinside.com/waves-a-new-rails-like-web-applications-framework-782.html">Artikel auf Ruby Inside</a> bin ich auf <a href="http://rubywaves.com/">Waves</a> gestoßen, welches den Anspruch hat, &#8220;the next-generation framework&#8221; zu werden. Ob dem nun wirklich so ist sei mal dahingestellt, Fakt ist aber, dass sich aktuell etwas bewegt und rechts und links von Rails interessante neue Alternativen entstehen.</p>&#x000A;&#x000A;<p>Die Kernbestreben dabei sind immer, thread-safe und leichtgewichtiger als Rails zu sein - womöglich auch noch ohne unnötige Abhängigkeiten wie beispielsweise bei der Wahl des ORM-Layers oder der Templating-Engine einzuführen. Da ich in letzter Zeit immer mehr darüber gelesen habe, stand es nun mal an, mir Merb genauer anzugucken. Dazu hier ein paar Gedanken und Verweise auf weitere Quellen dazu.</p>&#x000A;&#x000A;<!--more-->&#x000A;&#x000A;&#x000A;<h3>A closer look at Merb</h3>&#x000A;&#x000A;<p>Merb startete ursprünglich mit dem Bestreben, als Handler für thread-safe Datei-Upload zu dienen und ist mittlerweile zu einem eigenständigen Framework geworden, was sich ganz klar an Rails orientiert, aber an bestimmten Stellen die in den letzten Jahren durch Rails gewonnenen Erfahrungen ausnutzt und besser sein will.</p>&#x000A;&#x000A;<p>Auffällig vor allem ist, dass man sich aussuchen kann, ob man ActiveRecord oder DataMapper für das ORM verwenden möchte, wobei letzterer klar präferiert wird, da ActiveRecord nicht thread-safe ist. Auch bei der Wahl der Templating-Engine oder der verwendeten JavaScript-Frameworks gibt es keine Vorgaben. Überhaupt spielt Flexibilität und Leichtgewichtigkeit in Merb eine große Rolle, was sich auch schon bei der Installation der Pakete ausdrückt: Die Basis bildet das Gem <code>merb-core</code>, welches den absolut rudimentären Teil des Frameworks beinhaltet, welcher laut Ezra auch bald fertig gestellt und dann vorerst nicht erweitert werden soll. Weitere Pakete wie <code>merb-more</code> enthalten zusätzliche Features wie Generatoren, Mailer und Helper. Was den verwendeten Applicationserver angeht, so unterstützt Merb <a href="http://rack.rubyforge.org/">Rack</a> und überlässt es auch hier dem Entwickler, sich für Mongrel oder Alternativen wie <a href="http://code.macournoyer.com/thin/">Thin</a> zu entscheiden.</p>&#x000A;&#x000A;<p>Mottos, die hinter der <a href="http://merbivore.com/why_merb.html">Motivation von Merb</a> stehen sind &#8220;No code is faster than no code&#8221; und &#8220;Don&#8217;t be clever&#8221;. Merb ist bewusst schlanker als Rails und will auch nicht aus dem Stehgreif alle Probleme lösen, die Rails lösen kann. Es bringt keinen unnötigen Balast mit sich und die Funktionalitäten des Kerns sollen explizit über Plugins (welche hier im übrigen Gems sind) erweitert werden. In dem Sinne ist es auch möglich, eine komplette Applikation <a href="http://redhanded.hobix.com/bits/campingAMicroframework.html">Camping</a>-like in einer Datei zu entwickeln. Im Kern wird außerdem bewusst auf die Metaprogrammierungsfeatures von Ruby verzichtet, was zusätzlichen Performancegewinn bedeutet.</p>&#x000A;&#x000A;<p>Am deutlichsten werden die Unterschiede zu Rails in den Controllern. Hier orientiert sich Merb etwas mehr an Ruby-Konventionen, so dass eine Action beispielsweise immer das Ergebnis des letzten Statements ausgibt. Bei diesem Ergebnis kann es sich um ein gerendertes Template, ein Objekt, einen einfachen String, einen Block oder auch eine Datei handeln. Wird ein Objekt zurückgegeben, wird auf diesem - je nach angefordertem Mime-Type - eine Rendermethode (beispielsweise <code>to_xml</code> oder <code>to_json</code>) aufgerufen, was dem <code>respond_to</code>-Block in Rails entspricht.</p>&#x000A;&#x000A;<p>Möchte man in Rails teurere Tasks wie beispielsweise Versenden von E-Mails oder Anstoßen von Web-Services auf einen Backgroundprozess auslagern, um <a href="http://www.last100meters.com/2008/2/18/skinny-requst-fat-backend-scaling-rails-let-mongrels-breath">möglichst schnell eine Response liefern</a> zu können (btw: der verlinkte Artikel ist ein Must-read, um die Problematik besser zu verstehen!), so ist man auf Plugins wie <a href="https://github.com/tobi/delayed_job/tree/master">delayed_job</a> oder <a href="http://agilewebdevelopment.com/plugins/bj">Backgroundjob </a>angewiesen. In Merb kann man dies direkt über den <code>render_then_call</code>-Block erledigen. Dabei wird zunächst die Antwort an den Browser geliefert (wodurch der Applicationserver für das Annehmen einer neuen Anfrage bereit ist) und anschließend der Inhalt des Blocks ausgeführt.</p>&#x000A;&#x000A;<p>Darüber hinaus gibt es weitere feine Unterschiede, wie zum Beispiel das Handlen von Exceptions, welche einen eigenständigen Controller haben oder die Mailer, welche in Merb in der Controllerschicht untergebracht sind (in Rails sind die Mailer Modelle, doch ihre <a href="http://ryandaigle.com/articles/2006/8/23/whats-new-in-edge-rails-build-urls-in-your-actionmailers-and-other-non-controllers">Funktionalität</a> gehört eigentlich in die Controllerschicht).</p>&#x000A;&#x000A;<p>Merb ist meiner Meinung nach eine sehr interessante Abzweigung von Rails und es wert, einen genaueren Blick zu riskieren. Bei kleineren Applikationen bringt Rails einfach Overhead mit sich, was Merb ohne Eleganzeinbußen umgeht und dabei zusätzliche Performancesteigerung bietet. Ich werde mich in nächster Zeit näher damit beschäftigen, es kann schließlich nie schaden, über den Tellerand hinaus zu gucken.</p>&#x000A;&#x000A;<h3>Read on&#8230;</h3>&#x000A;&#x000A;<p>Als Quellen dienten folgende Links:</p>&#x000A;&#x000A;<ul>&#x000A;    <li><a href="http://rubyhoedown2007.confreaks.com/session02.html">Exploring Merb</a>: Präsentation von <span class="caption">Ezra Zygmuntowicz</span> (dem Entwickler von Merb) beim Ruby Hoedown 2007. Die etwa 20-minütige Präsentation mit anschließender Fragerunde gibt einen guten Einstieg und verdeutlicht die <a href="http://merbivore.com/why_merb.html">Motivation</a>, die hinter der Entwicklung von Merb als neues Framework steckt.</li>&#x000A;    <li><a href="http://peepcode.com/products/meet-merb-pdf-draft">Meet Merb</a>: Peepcode PDF, welches aktuell noch nicht komplett fertig gestellt ist. Ein paar Teile fehlen noch und ich bin gespannt, wie viel da noch zu kommt. Ist eine gute Zusammenfassung, aber irgendwie fehlt es dem bislang 63-seitigen PDF (mit viel Whitespace) noch an richtiger Substanz. Dien Infos daraus kann man sich auch mit etwas Mühe gut im Netz zusammensuchen.</li>&#x000A;    <li><a href="http://blog.new-bamboo.co.uk/2008/1/14/rails-merb">Unterschiede von Rails und Merb</a></li>&#x000A;    <li><a href="http://datamapper.org/">DataMapper</a>: Thread-safe Alternative zu ActiveRecord als ORM-Layer</li>&#x000A;    <li><a href="http://blog.new-bamboo.co.uk/2008/1/16/activerecord-datamapper">Unterschiede zwischen ActiveRecord und Datamapper</a></li>&#x000A;    <li><a href="http://www.jaikoo.com/2008/1/10/merb-datamapper-and-merbful_authenticaion-my-lovelies">Screencast zu Merb und Datamapper</a></li>&#x000A;</ul>&#x000A;&#x000A;&#x000A;<p>Viel Spaß beim Lesen, falls jemand schon Erfahrungen mit Merb gesammelt hat, lasst es mich wissen, ich denke da wird es in nächster Zeit mehr drüber zu hören geben.</p></div>
        <div class='follow'>
          <p>
            Guter Artikel? Folge mir auf
            <a class="twitter" href="https://twitter.com/dennisreimann">Twitter</a>
            oder
            <a class="github" href="https://github.com/dennisreimann">GitHub</a>
          </p>
        </div>
        <div class='teaser' id='iOctocat' itemscope='itemscope' itemtype='http://schema.org/SoftwareApplication'>
          <a href='http://ioctocat.com'>
            <img alt='iOS app for GitHub' itemprop='image' src='/images/ioctocat.png' />
          </a>
          <h3 itemprop='name'>
            <a href='http://ioctocat.com'>iOctocat</a>
          </h3>
          <p itemprop='description'>
            ist GitHub für die Hosentasche - deine Projekte und das was dort passiert
            immer dabei mit deinem
            <span itemprop='device'>iPhone und iPod Touch.</span>
            <br />
            Die App ist
            <a href="http://ioctocat.com/appstore-iphone" itemprop="url">im App Store erhältlich</a>
          </p>
          <link href='http://schema.org/SocialNetworkingApplication' itemprop='SoftwareApplicationCategory' />
        </div>
      </article>
    </div>
    <div id="footer">
      <div class='vcard' id='contact'>
        <span class='fn'>Dennis Reimann</span>
        <p class='adr'>
          <span class='street-address'>Ottjen-Alldag-Str. 32</span>
          <br />
          <span class='postal-code'>D-28277</span>
          <span class='locality'>Bremen</span>
        </p>
        <p>
          <span class='web'><a class="url" href="http://dennisreimann.de/" rel="me">dennisreimann.de</a></span>
          <br />
          <span class='mail'><a class="email" href="mailto:mail@dennisreimann.de" rel="me">mail@dennisreimann.de</a></span>
          <br />
          <span class='tel'>+49 (0)151 22 63 03 17</span>
        </p>
        <p>
          <small><a href="/contact">Kontaktdetails</a></small>
        </p>
        <ul class='social'>
          <li><a href="https://github.com/dennisreimann" rel="me">GitHub</a></li>
          <li><a href="https://twitter.com/dennisreimann" rel="me">Twitter</a></li>
          <li><a href="http://www.xing.com/profile/Dennis_Reimann5" rel="me">XING</a></li>
        </ul>
      </div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-376258-21']);
        _gaq.push(['_gat._anonymizeIp']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
        })();
      //]]>
    </script>
  </body>
</html>
