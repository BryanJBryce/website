<?xml version="1.0" encoding="utf-8" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>//dennisreimann</title>
  <link href="http://dennisreimann.de/atom.xml" rel="self" />
  <link href="http://dennisreimann.de" />
  <updated>2014-02-23T09:18:41+01:00</updated>
  <id>http://dennisreimann.de/</id>
  <author>
    <name>Dennis Reimann</name>
    <email>mail@dennisreimann.de</email>
  </author>
  <entry>
    <title>Switching to Freemium</title>
    <link href="http://dennisreimann.de/blog/switch-to-freemium" />
    <updated>2013-12-17T19:25:00+01:00</updated>
    <id>http://dennisreimann.de/blog/switch-to-freemium</id>
    <content type="html">
      &lt;p&gt;A few weeks ago - on November 7th - I changed the price model of &lt;a href=&quot;http://ioctocat.com&quot;&gt;iOctocat&lt;/a&gt;
            to freemium. The initial download became free and it offers most of the features the full pro version
            has, but limited to public repositories. The pro upgrade is available as an in-app purchase and gives
            access to private repositories, adds support for multiple accounts and Gitub Enterprise, as well as
            push notifications. The upgrade costs $9.99 (or 8,99 EUR), which is just as much as before the switch.&lt;/p&gt;
            
            &lt;p&gt;There were four reasons for deciding to change the price model:&lt;/p&gt;
            
            &lt;ol&gt;
            &lt;li&gt;&lt;em&gt;A potentially bigger market:&lt;/em&gt; Seeing &lt;a href=&quot;https://github.com/blog/1470-five-years&quot;&gt;GitHub&#8217;s growth&lt;/a&gt; compared
            to the low number of sales I am making (more on that later), the assumption is that there is a bigger
            market to tackle, which I am currently not reaching.&lt;/li&gt;
            &lt;li&gt;&lt;em&gt;Stagnating sales:&lt;/em&gt; This is the main reason to face the fact something might need
            improvement. Of course this could be related to other things as well, but my impression from conversations
            was that a good percentage of people were put off by the high price (at least in App Store terms) of the app
            and they had no good way to find out, whether or not the investment would be worth it.&lt;/li&gt;
            &lt;li&gt;The ever present &lt;em&gt;lack of demo versions:&lt;/em&gt; I do not want to bemoan the fact that Apple does not seem to care
            and leaves it to each developer to find the right way to approach this*, but from the users perspective I can
            totally understand that trying apps is kind of the only way to verify whether or not it is worth its price.&lt;/li&gt;
            &lt;li&gt;&lt;em&gt;Kick it like GitHub:&lt;/em&gt; I just like the fact, that the new price model fits very well with GitHub offering its
            functionality for free for open source projects. This makes it a natural fit and was the final trigger to make
            me want to do the switch.&lt;/li&gt;
            &lt;/ol&gt;
            
            
            &lt;p&gt;So let&#8217;s get to the interesting part: Sales figures and actual numbers.&lt;/p&gt;
            
            &lt;h3&gt;Before&lt;/h3&gt;
            
            &lt;p&gt;First off, the last 30 days before the switch, which can be considered a good baseline of how v2 was selling
            in general up to then:&lt;/p&gt;
            
            &lt;ul&gt;
            &lt;li&gt;266 paid sales/downloads&lt;/li&gt;
            &lt;li&gt;1397 EUR revenue&lt;/li&gt;
            &lt;/ul&gt;
            
            
            &lt;p&gt;&lt;a href=&quot;http://dennisreimann.de/images/content/ioctocat_before_freemium.png&quot;&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/ioctocat_before_freemium.png&quot; alt=&quot;iOctocat paid sales before the freemium switch&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
            
            &lt;p&gt;As you can see this is a bumpy mixture of sales varying from 5 to 14, averaging at around 9 sales per day.
            It seems that deviations like that are pretty normal for apps in that range, at least that is the impression
            I got from talking to some fellow developers.&lt;/p&gt;
            
            &lt;h3&gt;After&lt;/h3&gt;
            
            &lt;p&gt;Here are the first 30 days after after the switch:&lt;/p&gt;
            
            &lt;ul&gt;
            &lt;li&gt;217 paid sales&lt;/li&gt;
            &lt;li&gt;6261 downloads&lt;/li&gt;
            &lt;li&gt;1110 EUR revenue&lt;/li&gt;
            &lt;/ul&gt;
            
            
            &lt;p&gt;&lt;a href=&quot;http://dennisreimann.de/images/content/ioctocat_after_freemium.png&quot;&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/ioctocat_after_freemium.png&quot; alt=&quot;iOctocat paid sales after the freemium switch&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
            
            &lt;p&gt;&lt;a href=&quot;http://dennisreimann.de/images/content/ioctocat_after_freemium_downloads.png&quot;&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/ioctocat_after_freemium_downloads.png&quot; alt=&quot;iOctocat paid sales after the freemium switch&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
            
            &lt;p&gt;The first chart shows the number of paid sales, the second one the number of downloads. On freemium
            launch day the app got 2009 downloads and went hockey stick from there - unfortunately in the
            &lt;a href=&quot;http://onstartups.com/Portals/150/images//OnStartups-Hockey-Stick-cartoon.jpg&quot;&gt;wrong direction&lt;/a&gt; ;)&lt;/p&gt;
            
            &lt;p&gt;However, it still has about 100 downloads per day, which shows that there is a bigger market than the app was
            reaching before. Nevertheless the 10x growth in download numbers did not result in more sales yet - the
            conversion rate of the first 30 days is ~3.5%. Of course you cannot expect people that download the app just
            to try it to buy the pro version immediately, even if they think the app is useful to them. That is why I think
            of this switch as some kind of long-term investment.&lt;/p&gt;
            
            &lt;h3&gt;Improving conversions&lt;/h3&gt;
            
            &lt;p&gt;Right now the app now is missing out on what would have been potential customers before: People who just use
            public repositories and do not need any of the pro features do not have to pay anymore which might be
            &lt;a href=&quot;https://twitter.com/tvdeyen/status/410907972009996288&quot;&gt;crazy indeed&lt;/a&gt;. This is the point I thought about most
            when I tried to come up with a good pricing model. I could have charged a low amount for public repository
            access, but I decided that this approach would have more cons than pros&#8230;&lt;/p&gt;
            
            &lt;p&gt;&lt;strong&gt; Pros &lt;/strong&gt;&lt;/p&gt;
            
            &lt;ul&gt;
            &lt;li&gt;I think the app is definitely valuable to people even if they are using it in an open source context.&lt;/li&gt;
            &lt;li&gt;This would have also prevented some frustrating one star reviews that seem to be unavoidable when you
            are offering stuff for free: There will always be someone who does not appreciate your work or
            just likes to rant in App Store reviews.&lt;/li&gt;
            &lt;/ul&gt;
            
            
            &lt;p&gt;&lt;strong&gt; Cons &lt;/strong&gt;&lt;/p&gt;
            
            &lt;ul&gt;
            &lt;li&gt;Even if I would have charged only 79 cents I do not think the app would have gotten a fifth of the downloads
            it got the free way. You just cannot beat the magic price tag &#8220;free&#8221; and giving people a no brainer opportunity
            to try the app outweighs the income of some potential sales in this case &lt;em&gt;imho&lt;/em&gt;.&lt;/li&gt;
            &lt;li&gt;I personally prefer to pay for an app upfront and get full access immediately, maybe that is why the model of
            letting customers pay twice (once for basic access, then again for the pro features) just does not seem right
            to me.&lt;/li&gt;
            &lt;li&gt;With a userbase of people who are developers themselves, I know that at least some users are buying the pro
            upgrade even if they do not need the addtional features. This might sound romantic, but sometimes I get feedback
            from customers who know that their &#8220;donation&#8221; helps to
            &lt;a href=&quot;https://twitter.com/dvdln/status/398847329006276608&quot;&gt;ensure the future development&lt;/a&gt; of the app &lt;3&lt;/li&gt;
            &lt;li&gt;As I mentioned before I just like the way this fits with GitHubs pricing.&lt;/li&gt;
            &lt;/ul&gt;
            
            
            &lt;p&gt;However, I am still thinking about how to make an upgrade more desirable for heavy users of the free version.
            The features it offers without paying go far beyond a demo version and even though I do not really like to
            artificially limit the functionality I might cut off some features worth paying for, so that the app does not
            miss out on too many people who would also be willing to pay for what they get - especially with the things in
            mind I still want to tackle, like the iPad interface.&lt;/p&gt;
            
            &lt;p&gt;One more point I will definitely change: Right now the app is not really trying to upsell anyone. Once you
            added your account you do not get to see any possibility to upgrade, besides a shy little button on the
            repository lists. The only place I advertise it prominently is the accounts list, but users of the free version
            rarely return to that, because they can only have a single account. That was an oversight on my part or maybe
            just me being naive&#8230;&lt;/p&gt;
            
            &lt;h3&gt;Conclusion&lt;/h3&gt;
            
            &lt;p&gt;Unfortunately changing the pricing model did not turn out to be a quick win for iOctocat, but as I said I consider
            the move to freemium as a long-term investment and already have some ideas on how to improve the current situation.
            I am curious to see what kind of results the upcoming months will yield, but I do not think I will switch back to
            an upfront payment model whatever happens, because of the reasons I outlined in the introduction of this article.&lt;/p&gt;
            
            &lt;p&gt;From a users perspective I can totally see the benefit of the freemium model and with more and more apps
            on the App Store taking this route I can imagine the rate of people that are willing to pay upfront go down.
            Nevertheless I might consider cutting off some more features from the free version to give more non-pro users
            a reason to upgrade. I would not really like to do this and I can imagine some push back from users of the free
            version, but I still want to work on the app and improve it - and making some more revenue would give me better
            options to do just that.&lt;/p&gt;
            
            &lt;h6&gt;Last but not least&#8230;&lt;/h6&gt;
            
            &lt;p&gt;&lt;em&gt;* Technical sidenote:&lt;/em&gt; Along with iOS 7 Apple gave developers a new/better way for utilizing App Store receipts
            (see &lt;a href=&quot;https://developer.apple.com/wwdc/videos/&quot;&gt;WWDC 2013 Session 308&lt;/a&gt;), which makes it possible to implement
            various ways of demo functionality. iOctocat uses the App Store receipt to check the version the user bought
            initially so that customers who bought the app prior to the switch do not have to pay again. Likewise one could
            implement a limited period of time with full access to give the users a trial version (which I might cover in
            another blog post sometime&#8230;)&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Three Quick Wins for Responding to User Feedback</title>
    <link href="http://dennisreimann.de/blog/three-quick-wins-for-responding-to-customer-feedback" />
    <updated>2013-09-15T21:05:00+02:00</updated>
    <id>http://dennisreimann.de/blog/three-quick-wins-for-responding-to-customer-feedback</id>
    <content type="html">
      &lt;p&gt;Giving users an easy way to submit feedback and talk to the developer about the app should be an essential part
              of almost every app out there. I am using &lt;a href=&quot;http://hockeyapp.net/&quot;&gt;HockeyApp&lt;/a&gt;&#8217;s feedback feature, which is not only
              easy to integrate, but also comes with a nice interface and makes leaving comments a seamless experience for the users.&lt;/p&gt;
              
              &lt;p&gt;Lately I have tried some things when responding to customer feedback and had good success with that, so I wanted to
              share my experience with you - so here are three tips for what you should try when answering your users feedback.&lt;/p&gt;
              
              &lt;h3&gt;Ask for a review&lt;/h3&gt;
              
              &lt;p&gt;You might not want to do that in case the user is not satisfied with your app and is contacting you about problems
              she or he is experiencing. But other than that this is a very good chance to get a user to leave a review on the
              App Store: Just be kind and ask them for a short, one or two sentence long review. Oftentimes the positive feedback
              you get is ready to be recycled as an App Store review, so provide the user with a quick link to access your apps
              store page and you will increase your review count in no time.&lt;/p&gt;
              
              &lt;h3&gt;Point them to your mailinglist/social media outlets&lt;/h3&gt;
              
              &lt;p&gt;Oftentimes when people ask for a feature that is already planned or I may be working on already, I propose they
              subscribe to the mailinglist or follow the apps twitter/app.net account. This assumes that you are using these
              outlets to frequently talk about upcoming versions, stuff that is in the making or share other information that
              might be useful for your users. As taking action is just one or two clicks away this converts pretty well and
              lets your users stay in the loop.&lt;/p&gt;
              
              &lt;h3&gt;Use a footer/signature&lt;/h3&gt;
              
              &lt;p&gt;Depending on the type of feedback or request I get, I sometimes use the opportunity to point to my personal website
              or other/similar projects. The success of this is not easy to measure unless the users might let you know
              afterwards that they found the information they were looking for. Nevertheless, having a signature containing one or
              two links at the end of an email is an unobtrusive hint that might spark interest.&lt;/p&gt;
              
              &lt;h3&gt;Bonus tip: Be quick&lt;/h3&gt;
              
              &lt;p&gt;Sometimes people are surprised to actually get an answer to their feedback (which happens more often than I expected).
              I do not only answer every request I get, but also try to do it as fast as I can. It is amazing to see how even
              disgruntled or angry users change their minds when they are taken care of as quickly as possible. A quick answer
              also sets a good ground for the other tips mentioned.&lt;/p&gt;
              
              &lt;hr /&gt;
              
              &lt;p&gt;All these tips take into account that the people who contact you seem to care about your app: They are loyal (and
              hopefully satisfied) users that take the time to let you know what they think and want to help you improve your
              app. I have found that those users react very positively to these pointers and some are even thankful for you letting
              them know where they can find out more or follow your app more closely - and if that is the case: Congratulations,
              you are on the right track with what you are doing.&lt;/p&gt;
              
              &lt;p&gt;I hope you have similar success when experimenting with these tips - let me know what you think and how your users
              react.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>iOctocat v2 is here</title>
    <link href="http://dennisreimann.de/blog/ioctocat-github-for-iphone" />
    <updated>2013-08-08T08:00:00+02:00</updated>
    <id>http://dennisreimann.de/blog/ioctocat-github-for-iphone</id>
    <content type="html">
      &lt;p&gt;Woohoo, today is shipping day! I&#8217;m very proud to announce that version 2 of &lt;strong&gt;iOctocat - GitHub for iPhone&lt;/strong&gt;
                is &lt;a href=&quot;http://ioctocat.com/appstore-iphone&quot;&gt;now available on the App Store&lt;/a&gt; :)&lt;/p&gt;
                
                &lt;p&gt;&lt;a href=&quot;http://ioctocat.com&quot;&gt;The app&lt;/a&gt; started out four years ago and has seen major enhancements during the past year: The versions 1.7 and 1.8
                brought a lot of improvements (new menu, multiple accounts and GitHub Enterprise support) and even big features
                like push notifications. Over the past months I&#8217;ve been working diligently on the app, added tons of features and
                improved the overall performance. Today is the day all that goodness ships and you can tell I&#8217;m really satisfied
                with what it looks like by the way I&#8217;m talking about it ;)&lt;/p&gt;
                
                &lt;h3&gt;What&#8217;s new&lt;/h3&gt;
                
                &lt;p&gt;People have sent very nice feedback over the past months, asking for features and enhancements that I now found the
                time for to implement. These are some of my favorites from the new release:&lt;/p&gt;
                
                &lt;ul&gt;
                &lt;li&gt;Markdown rendering in issues and comments&lt;/li&gt;
                &lt;li&gt;Support for emojis (including autocompletion)&lt;/li&gt;
                &lt;li&gt;Links in event items instead of buttons&lt;/li&gt;
                &lt;li&gt;Pagination for lists&lt;/li&gt;
                &lt;/ul&gt;
                
                
                &lt;p&gt;Many users have asked for better issues integration. This has been on my internal list for a long time and now
                it is finally available. Here are the major issues additons that will help you to better manage your workflow
                on the go:&lt;/p&gt;
                
                &lt;ul&gt;
                &lt;li&gt;Issue search and filtering&lt;/li&gt;
                &lt;li&gt;Manage labels, milestones, and assignees for issues and pull requests&lt;/li&gt;
                &lt;li&gt;Drafts for issues, milestones and comments&lt;/li&gt;
                &lt;li&gt;Copy, edit and delete comments&lt;/li&gt;
                &lt;li&gt;Display issue/pull request events (i.e. closed, merged) alongside comments&lt;/li&gt;
                &lt;/ul&gt;
                
                
                &lt;p&gt;In addition to that there are also some new niceties that have been missing before:&lt;/p&gt;
                
                &lt;ul&gt;
                &lt;li&gt;Search with options for sorting and language&lt;/li&gt;
                &lt;li&gt;Fullscreen in file- and webview&lt;/li&gt;
                &lt;li&gt;Fork a repository&lt;/li&gt;
                &lt;li&gt;Performance improvements for table views with cells with dynamic height&lt;/li&gt;
                &lt;li&gt;Massive improvements for viewing files in commits and pull requests&lt;/li&gt;
                &lt;/ul&gt;
                
                
                &lt;h3&gt;What&#8217;s next&lt;/h3&gt;
                
                &lt;p&gt;I laid out my plans for the next versions in detail in a &lt;a href=&quot;http://dennisreimann.de/blog/ioctocat-github-for-ios&quot;&gt;previous blog post&lt;/a&gt;,
                here is the &lt;em&gt;TL;DR&lt;/em&gt; for the upcoming months:&lt;/p&gt;
                
                &lt;ul&gt;
                &lt;li&gt;&lt;strong&gt;v2.0.1&lt;/strong&gt; - Bugfixes (as there definitely will be rough edges I&#8217;ve overseen)&lt;/li&gt;
                &lt;li&gt;&lt;strong&gt;v2.1.0&lt;/strong&gt; - All about iOS 7 (and it will require the new OS version)&lt;/li&gt;
                &lt;li&gt;&lt;strong&gt;v2.1.x&lt;/strong&gt; - New features like commenting on lines of pull request diffs and repository discovery functions via the new GitHub search API (much asked for)&lt;/li&gt;
                &lt;li&gt;&lt;strong&gt;v2.2.0&lt;/strong&gt; - iPad UI: Separate app with a new UI for the iPad&lt;/li&gt;
                &lt;/ul&gt;
                
                
                &lt;h3&gt;That&#8217;s it&lt;/h3&gt;
                
                &lt;p&gt;Head over to the App Store and &lt;a href=&quot;http://ioctocat.com/appstore-iphone&quot;&gt;get iOctocat v2 now&lt;/a&gt;.
                If you find the time, please write a review and tell your friends, that helps a lot! And in case you got feedback: Just let me know,
                I&#8217;m here to listen and willing to improve the upcoming versions responding to your needs!&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>iOctocat: GitHub for iPhone</title>
    <link href="http://dennisreimann.de/blog/ioctocat-github-for-ios" />
    <updated>2013-07-10T15:45:00+02:00</updated>
    <id>http://dennisreimann.de/blog/ioctocat-github-for-ios</id>
    <content type="html">
      &lt;p&gt;I am currently working on &lt;a href=&quot;http://ioctocat.com&quot;&gt;iOctocat v2.0&lt;/a&gt; and because people keep asking, here are
                  thoughts and insights I would like to share about the progress and ideas behind it.&lt;/p&gt;
                  
                  &lt;h3&gt;In general&lt;/h3&gt;
                  
                  &lt;p&gt;v2 will be &lt;em&gt;a new app&lt;/em&gt; and in contrast to the current version 1 &lt;em&gt;it will not be universal&lt;/em&gt;, which means
                  separate apps for the iPhone and iPad.&lt;/p&gt;
                  
                  &lt;p&gt;Up to now, the iPad version of the app has been neglected and has not gotten the attention it deserves.
                  There have been attempts to create an unique experience which utilizes the surplus of screen real estate,
                  but those have not gotten very far, because I wanted to make the app feature complete before improving the UI.
                  As a result I made v1 universal to please everyone who would like to use the app on the iPad, even though it
                  is just a scaled up version of the iPhone UI. Judging from the reviews and feedback I got, this made half of
                  the user base happy, because they liked having a single app which they paid for once and could use on all their
                  devices. The other half was buying the app because they wanted it to work primarily on their iPad - those users
                  felt like they did not fully get what they wanted and I can totally understand that.&lt;/p&gt;
                  
                  &lt;p&gt;To make a long story short: &lt;em&gt;v2.0 will be iPhone only at first&lt;/em&gt;, because I still wanted to make it feature
                  complete first. Once that is out on the App Store I will work on v2.1 to make the app ready for iOS 7.
                  This will be a big deal and include some major UI changes I have postponed so far, because I would have to
                  redo the UI with iOS 7 anyways. After that and having done the inevitable UI changes, I want to devote the time
                  and energy to bring you the iPad experience of iOctocat we all have been waiting for.&lt;/p&gt;
                  
                  &lt;h3&gt;E.T.A.&lt;/h3&gt;
                  
                  &lt;p&gt;My initial plan was to release v2.0 alongside iOS 7 this fall. I have been able to work on the app full time
                  for the past weeks and have made good progress by now, which led to the decision to release it earlier than
                  that. As the app is almost feature complete with what I planned for the new version it does not make too much
                  sense to wait for iOS 7 - in fact it would be counterproductive: Shipping v2.0 would have been too much of a
                  big bang release with lots of new features and a complete overhaul of the UI, which in itself will take me some
                  time to get right - even when focusing on the iPhone only at first.&lt;/p&gt;
                  
                  &lt;p&gt;Right now &lt;em&gt;shipping v2.0 in mid August seems realistic&lt;/em&gt; and that is what I strive to do.&lt;/p&gt;
                  
                  &lt;p&gt;Another good thing about shipping independently from the new OS version is that people that do not want to
                  upgrade to iOS 7 immediately will be able to take advantage of all the features the new app brings.&lt;/p&gt;
                  
                  &lt;p&gt;There will be time to fix bugs and maybe add one or two more features before shipping &lt;em&gt;v2.1, which will target iOS 7
                  and leave behind support for iOS 6&lt;/em&gt; and below. That is because the UI changes iOS 7 brings are so drastic that I
                  will not be able and do not want to maintain two separate versions of the UI.&lt;/p&gt;
                  
                  &lt;h3&gt;Pricing&lt;/h3&gt;
                  
                  &lt;p&gt;As with v1, I need to &lt;a href=&quot;http://dennisreimann.de/blog/app-store-pricing&quot;&gt;finance working on the app&lt;/a&gt; - even more so now that I have already
                  dedicated several weeks of full time work to hack on the new version.&lt;/p&gt;
                  
                  &lt;p&gt;The &lt;em&gt;iPhone version will be $9.99&lt;/em&gt; (8.99 EUR). I have not decided on a price point for the iPad version yet, but I
                  think it will be a little more than that and I want to justify this by delivering a very good experience on the iPad.&lt;/p&gt;
                  
                  &lt;p&gt;Two weeks ago when I decided to ship v2.0 around mid August I cut the price of v1 in half - it is currently
                  &lt;a href=&quot;http://ioctocat.com/appstore-iphone&quot;&gt;available on the App Store for $4.99&lt;/a&gt;. This makes six weeks of transitioning period
                  and I did this to be fair to everyone buying the app from then on. I was hoping for Apple to announce paid upgrades
                  at WWDC 2013, but it seems unlikely that we will see something like that in the near future. Having paid upgrades
                  would have been my favorite option, but as this will not happen I think doing it this way seems like the best option,
                  because I do not think there will be an introductory price for v2.0 and I simply cannot grant existing customers a
                  discount.&lt;/p&gt;
                  
                  &lt;h3&gt;The road so far and on&lt;/h3&gt;
                  
                  &lt;p&gt;I really enjoy what I am doing right now: Hacking on an app I myself need and enjoy using, contributing to open
                  source &lt;a href=&quot;https://github.com/mattt/TTTAttributedLabel/pull/243&quot;&gt;along&lt;/a&gt; &lt;a href=&quot;https://github.com/RSully/RSColorPicker/pull/25&quot;&gt;the&lt;/a&gt;
                  &lt;a href=&quot;https://github.com/seattlerb/vlad/pull/53&quot;&gt;way&lt;/a&gt;, and talking to other developers that live the indy life.
                  I am very grateful for the past weeks and fell in love with being able to work on what I think is best - and deciding
                  what to do and deliver value whenever I open my MacBook or talk to customers.&lt;/p&gt;
                  
                  &lt;p&gt;Having said that, I hope you will enjoy v2 as much as I already did - &lt;strong&gt;WIN WIN&lt;/strong&gt;.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>App Store Pricing</title>
    <link href="http://dennisreimann.de/blog/app-store-pricing" />
    <updated>2013-05-09T10:16:00+02:00</updated>
    <id>http://dennisreimann.de/blog/app-store-pricing</id>
    <content type="html">
      &lt;p&gt;Kicked off by a great series written by Michael Jurewitz (links below) a new discussion about pricing on the App Store has been spawned. Here&#8217;s my take on it, along with a few experiences.&lt;/p&gt;
                    
                    &lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt; If you have an app on the App Store, do yourself and your fellow devs a favor, pause reading now, go to iTunes Connect and raise the price of your app(s) to what you honestly feel you deserve.&lt;/p&gt;
                    
                    &lt;p&gt;I assume there is room for improvement and that you can raise the price, because when you initially set the price you most likely fell into the trap of not being couragous enough to charge what it might be worth. Go for it – in case you are hesitant, just make it an experiment for the next two weeks. I did the same half a year ago, and I&#8217;m writing this to encourage you. Here are my findings&#8230;&lt;/p&gt;
                    
                    &lt;h3&gt;A little bit of background&#8230;&lt;/h3&gt;
                    
                    &lt;p&gt;All the experiences I&#8217;m talking about are based on what happened to &lt;a href=&quot;http://ioctocat.com&quot;&gt;iOctocat - GitHub for iOS&lt;/a&gt; within the last six months. Up to then it&#8217;s been a part time project of mine, which started four years ago and got developed further whenever I found the time and energy in my spare time. When the iPhone 5 came out I made the decision to either put it aside or develop it on a more serious basis, because the state back then was unsatisfying for both parties, customers and me: Important features were lacking and bugs took a long time to get fixed, because when you are a father of two, you got some more important things to do on your evenings and weekends.&lt;/p&gt;
                    
                    &lt;p&gt;Up to then the price was $4 (which was already &lt;em&gt;high&lt;/em&gt; compared to the race-to-the-bottom prices we see all over the App Store) and I the income I made from that was far from covering the costs of development and support - and to be honest, somewhere along the way the cost of development neared zero, because I was just lacking the motivation to put more time into it.&lt;/p&gt;
                    
                    &lt;p&gt;So I decided to raise the price to around $10 (I experimented with variations over a couple of weeks) and see what happens: In case it takes off and I can make at least some more money off of it, I&#8217;ll start investing my time again - if not, I&#8217;ll let it sink, because there does not seem to be a market that allows sustainable development of that kind of thing anyway.&lt;/p&gt;
                    
                    &lt;p&gt;I personally did not really expect what happend, but having read so far, you might already guess the direction it went in&#8230;&lt;/p&gt;
                    
                    &lt;h3&gt;More income&lt;/h3&gt;
                    
                    &lt;p&gt;The amount of units sold stayed nearly the same, at first they dropped off a little – but that does not matter, because even if you double your price and only sell half the amount, you are winning: At least in theory there should be less costs for support and you validated that there still is a market for that kind of product in a higher price range. Of course this depends on the actual units sold, but you get the idea&#8230;&lt;/p&gt;
                    
                    &lt;p&gt;Then, after a while the sales started to increase. Not like they went through the roof, but the numbers improved. Don&#8217;t get me wrong: I&#8217;m not talking about wanting to become rich from the app (and even if I would, I&#8217;d be still far from it) - my point is that I wanted to find a price point that allows to develop/run/maintain the app on a sustainable basis, which you just cannot do for 89 cents as an independent developer.&lt;/p&gt;
                    
                    &lt;p&gt;iOctocat - just like most other apps - is an app with a one time fee: You pay it once and get all the updates for free. I thought about introducing other models while working on support for push notifications (that just landed btw), but I decided to keep everything as it is, because at that price point I can offer the additional services without charging an extra amount for push, which would have felt somewhat strange anyways.&lt;/p&gt;
                    
                    &lt;p&gt;Now I cover the costs by charging what I think the app is worth, which gives me the chance to also reinvest the money for things that will improve the customers experience, like services as &lt;a href=&quot;http://hockeyapp.net/&quot;&gt;HockeyApp&lt;/a&gt;, development apps like &lt;a href=&quot;http://www.deploymateapp.com/&quot;&gt;Deploymate&lt;/a&gt; or even giving back to people who contribute on GitHub - &lt;em&gt;win win&lt;/em&gt;.&lt;/p&gt;
                    
                    &lt;h3&gt;More loyal users&lt;/h3&gt;
                    
                    &lt;p&gt;Besides the increased value on my side, it also feels like the customers value it more. Of course the perceived value automatically increases when you pay more for something, but first and foremost I am talking about that the customers tend to feel more involved in the app. I don&#8217;t think that iOctocat being open source makes it a special case, but now I even get sales and reviews that are like &#8220;Wanted to support the project, cheers!&#8221; (actual review from the App Store).&lt;/p&gt;
                    
                    &lt;p&gt;The feedback and reviews I get really improved when I increased the price. One factor for that seems to be that the higher price sieves out the people that spontaneously bought it and then were annoyed, that it does not also offer a code editor and the whole file management via Git.&lt;/p&gt;
                    
                    &lt;p&gt;Instead, customers seem to take the time to see whether or not it fits their needs and reach out to me via &lt;a href=&quot;http://twitter.com/ioctocat&quot;&gt;Twitter&lt;/a&gt; or &lt;a href=&quot;https://alpha.app.net/ioctocat&quot;&gt;ADN&lt;/a&gt; to ask if it supports what they expect. This way I have more contact to (potential) customers and can directly react to feedback and questions. I could go into a seperate discussion about how the current state of the App Store not allowing to answer reviews or offering trials does otherwise make this a problem in the first place, but that&#8217;s another topic.&lt;/p&gt;
                    
                    &lt;p&gt;The customers also feel like they have a say - and of course they do. I try to respond as best as I can to feature requests, issues and feedback I get, which brings me to my last point&#8230;&lt;/p&gt;
                    
                    &lt;h3&gt;More motivation&lt;/h3&gt;
                    
                    &lt;p&gt;Now that I can at least justify putting my spare time into the app, I really enjoy it again. I guess a look at the &lt;a href=&quot;https://github.com/dennisreimann/ioctocat/contributors&quot;&gt;contributions chart on GitHub&lt;/a&gt; says it best&#8230;&lt;/p&gt;
                    
                    &lt;p&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/ioctocat_contributions_2013.png&quot; alt=&quot;iOctocat GitHub Contributions&quot; /&gt;&lt;/p&gt;
                    
                    &lt;p&gt;There is a lot more coming and I&#8217;m really looking forward to dedicate at least one month of full time work to iOctocat this summer. The list of things I want to add and improve is still long - and hacking on the project is fun again.&lt;/p&gt;
                    
                    &lt;h3&gt;So were do we go from here?&lt;/h3&gt;
                    
                    &lt;p&gt;Well, we cannot sit and wait for Apple (or even expect them) to fix the pricing on the App Store. That ship has sailed and somehow we developers need to educate users and customers that running an app needs a sustainable basis that just cannot be achieved by charging 89 cents. And it already has begun, see the list of selected posts on that topic below, that were prior to this one.&lt;/p&gt;
                    
                    &lt;p&gt;At least from my experience people like to hand you their money if you make their life easier or more fun. This makes for a great conclusion too: Please don&#8217;t choose to compete on price, make quality and dedication to your product the main differentiator - your customers and fellow devs will thank you.&lt;/p&gt;
                    
                    &lt;h3&gt;Further reading&lt;/h3&gt;
                    
                    &lt;ul&gt;
                    &lt;li&gt;&lt;a href=&quot;http://jury.me/blog/&quot;&gt;Michael Jurewitz&#8217; blog&lt;/a&gt; with the series of articles&lt;/li&gt;
                    &lt;li&gt;Dave Addey: &lt;a href=&quot;http://daveaddey.com/?p=1084&quot;&gt;Apps are too cheap&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;MacWorld: &lt;a href=&quot;http://www.macworld.com/article/2032847/a-5-app-isnt-expensive-customers-need-to-help-fix-the-app-store-economy.html&quot;&gt;A $5 app isn&#8217;t expensive&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;Kevin Hoctor: &lt;a href=&quot;http://kevinhoctor.blogspot.de/2013/03/the-future-of-software-pricing.html&quot;&gt;The Future of Software Pricing&lt;/a&gt;&lt;/li&gt;
                    &lt;/ul&gt;
    </content>
  </entry>
  <entry>
    <title>UITableViewCell height with UITextView</title>
    <link href="http://dennisreimann.de/blog/uitextview-height-in-uitableviewcell" />
    <updated>2012-12-03T10:30:00+01:00</updated>
    <id>http://dennisreimann.de/blog/uitextview-height-in-uitableviewcell</id>
    <content type="html">
      &lt;p&gt;You will find lots of resources on the internet about calculating the height of a UITableViewCell based
                      on an inner UITextView. Most of what I&#8217;ve found when I was trying to find a solution was either incomplete
                      or wrong. Here are my learnings and the approach I&#8217;m taking to tame what gave me headaches for some time now.&lt;/p&gt;
                      
                      &lt;h3&gt;Prerequisites&lt;/h3&gt;
                      
                      &lt;p&gt;I wanted this to work for &lt;em&gt;both table view styles&lt;/em&gt; within &lt;em&gt;universal apps&lt;/em&gt; that support &lt;em&gt;autorotation&lt;/em&gt;.
                      The solution should also be flexible enough to allow for subclassing and configuration of the custom
                      table view cell so that I can reuse the code for different kinds of cells.&lt;/p&gt;
                      
                      &lt;h4&gt;UITableViewCell&lt;/h4&gt;
                      
                      &lt;p&gt;To calculate the height of the cell (most likely to be used in &lt;code&gt;tableView: heightForRowAtIndexPath:&lt;/code&gt;) you
                      have to know its width so that you can calculate the size of the UITextView with the method
                      &lt;code&gt;sizeWithFont:forWidth: lineBreakMode:&lt;/code&gt; provided by the NSString class. That is because the naive approach
                      of adding the cell to the table view and asking for the frame size of the text view does not work -
                      &lt;code&gt;tableView:heightForRowAtIndexPath:&lt;/code&gt; gets called before &lt;code&gt;tableView:cellForRowAtIndexPath:&lt;/code&gt; so that you have
                      to do the calculation on your own.&lt;/p&gt;
                      
                      &lt;h4&gt;UITextView&lt;/h4&gt;
                      
                      &lt;p&gt;First of all we have to notice that an UITextView has an inset of 8px on each side. I have not found
                      official documetation about this and event though its &lt;code&gt;contentInset&lt;/code&gt; property is set to &lt;code&gt;UIEdgeInsetZero&lt;/code&gt;
                      by default, it has this 16px horizontal padding we have to subtract when calculating with the text views width.&lt;/p&gt;
                      
                      &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; On StackOverflow and elsewhere you can find remarks about reduzing the padding by applying a custom
                      inset with negative values, like this:&lt;/p&gt;
                      
                      &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentInset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UIEdgeInsetsMake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                      &lt;/pre&gt;
                      &lt;/div&gt;
                      
                      
                      &lt;p&gt;This indeed unsets the visual padding, but from what I have seen and tested it does not make the text run wider
                      - you still have to subtract the 16px. With this example the text just seems to start 8px more to the left,
                      but still wraps at the original width.&lt;/p&gt;
                      
                      &lt;h3&gt;The approach&lt;/h3&gt;
                      
                      &lt;p&gt;There is one thing I don&#8217;t really like about the solution I&#8217;ve found and that is passing in the table view
                      to the method &lt;code&gt;- (CGFloat)heightForTableView:(UITableView *)tableView&lt;/code&gt; that does the calculation. However
                      I did not find a way to avoid this, because we need the width of the cells outer frame, because it will give
                      us a way to get to the cells width - this way it works with autorotation and cell reuse.&lt;/p&gt;
                      
                      &lt;p&gt;The code for the custom UITableViewCell subclass (&lt;code&gt;TextCell&lt;/code&gt;) looks like this:&lt;/p&gt;
                      
                      &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TextCell&lt;/span&gt;
                      
                      &lt;span class=&quot;c1&quot;&gt;// UITextView has an inset of 8px on each side&lt;/span&gt;
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;textInset&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;8.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;c1&quot;&gt;// Sets the text and adjusts the frame height&lt;/span&gt;
                      &lt;span class=&quot;c1&quot;&gt;// so that the text view does not scroll&lt;/span&gt;
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;setContentText:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;theText&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGRect&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;c1&quot;&gt;// Calculates the text views width by subtracting&lt;/span&gt;
                      &lt;span class=&quot;c1&quot;&gt;// the horizontal insets and margins&lt;/span&gt;
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;textWidthForOuterWidth:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;outerWidth&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marginH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;marginLeft&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;marginRight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outerWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marginH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;heightForTableView:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UITableView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tableView&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;c1&quot;&gt;// calculate the outer width of the cell&lt;/span&gt;
                          &lt;span class=&quot;c1&quot;&gt;// based on the tableView style&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outerWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tableView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tableView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UITableViewStyleGrouped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                              &lt;span class=&quot;c1&quot;&gt;// the grouped table inset is 20px on&lt;/span&gt;
                              &lt;span class=&quot;c1&quot;&gt;// the iPhone and 90px on the iPad&lt;/span&gt;
                              &lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iPad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIDevice&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;currentDevice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userInterfaceIdiom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;
                                &lt;span class=&quot;n&quot;&gt;UIUserInterfaceIdiomPhone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;outerWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iPad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;20.0f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;90.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marginV&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;marginTop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;marginBottom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textWidthForOuterWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outerWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                          &lt;span class=&quot;c1&quot;&gt;// use large value to avoid scrolling&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;50000.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGSize&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CGSizeMake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxHeight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGSize&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;
                              &lt;span class=&quot;nl&quot;&gt;sizeWithFont:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;font&lt;/span&gt;
                              &lt;span class=&quot;nl&quot;&gt;constrainedToSize:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constraint&lt;/span&gt;
                              &lt;span class=&quot;nl&quot;&gt;lineBreakMode:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UILineBreakModeWordWrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;textInset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marginV&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;k&quot;&gt;@end&lt;/span&gt;
                      &lt;/pre&gt;
                      &lt;/div&gt;
                      
                      
                      &lt;p&gt;You may have noticed, that the code above refers to getters for the margin. I use these
                      to configure the coordinates that text views in different kinds of &lt;code&gt;TextCell&lt;/code&gt; subclasses
                      may have.&lt;/p&gt;
                      
                      &lt;p&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/uitextview-interface_builder.png&quot; alt=&quot;Cellconfiguration in Interface Builder&quot; /&gt;&lt;/p&gt;
                      
                      &lt;p&gt;For example I would use these settings in a concrete subclass when the UITextView
                      in Interface Builder is set like in the screenshot above.&lt;/p&gt;
                      
                      &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;marginTop&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;65.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;marginBottom&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;40.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;marginLeft&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      
                      &lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;marginRight&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                      &lt;/pre&gt;
                      &lt;/div&gt;
                      
                      
                      &lt;p&gt;The code and examples for this are taken from the &lt;a href=&quot;https://github.com/dennisreimann/ioctocat/blob/8e5544b109fb6221eaf01ce25651df76ca5cf5f1/Classes/TextCell.m&quot;&gt;iOctocat codebase&lt;/a&gt;.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Rails-Hosting auf Uberspace</title>
    <link href="http://dennisreimann.de/blog/rails-hosting-auf-uberspace" />
    <updated>2012-09-06T17:07:00+02:00</updated>
    <id>http://dennisreimann.de/blog/rails-hosting-auf-uberspace</id>
    <content type="html">
      &lt;p&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/uberspace.png&quot; alt=&quot;Uberspace - Hosting on Asteroids&quot; /&gt;
                        Ich bin großer Fan der einladenden Atmosphäre, Einfachheit und dem großartigen Support auf
                        &lt;a href=&quot;https://uberspace.de&quot;&gt;Uberspace&lt;/a&gt;. Konsequenterweise hab ich nun auch meine letzten privaten
                        Projekte dorthin umgezogen und mich dabei auch mit dem Rails-Deployment auf Uberspace
                        auseinander gesetzt.&lt;/p&gt;
                        
                        &lt;p&gt;Für die ersten Schritte findet man im Wiki eine Anleitung mit allen generellen Einzelheiten zum
                        &lt;a href=&quot;http://uberspace.de/dokuwiki/cool:rails&quot;&gt;Aufsetzen einer Rails-Anwendung auf Uberspace&lt;/a&gt;. Der
                        dort beschriebene Ansatz setzt der Einfachheit halber auf das manuelle Ausführen der einzelnen
                        Schritte und das Ausliefern der Anwendung über FastCGI. Da das nicht unbedingt etwas ist, was
                        man aus dem täglichen Rails-Kontext kennt, hier ein paar Hinweise und Learnings zur Automatisierung
                        des Deployments und zur Verwendung alternativer Applikationsserver.&lt;/p&gt;
                        
                        &lt;h3&gt;Automatisierung des Deployments&lt;/h3&gt;
                        
                        &lt;p&gt;Wer seine Anwendungen mit Capistrano deployed, sollte einen Blick auf &lt;a href=&quot;https://github.com/yeah/uberspacify&quot;&gt;uberspacify&lt;/a&gt;
                        werfen, ein Gem das alle nötigen Capistrano-Scripte mitbringt, um den eigenen Uberspace startklar
                        für das Rails-Hosting zu machen. Als Fan von &lt;a href=&quot;http://dennisreimann.de/blog/deployment-with-vlad/&quot;&gt;Vlad&lt;/a&gt; habe ich mich von
                        uberspacify inspirieren lassen und die nötigen &lt;a href=&quot;https://github.com/dennisreimann/vlad-extras/blob/master/lib/vlad/uberspace.rb&quot;&gt;Uberspace-Tasks für Vlad&lt;/a&gt;
                        geschrieben. Das Script enthält die wichtigsten Anmerkungen und Konfigurationshinweise, hier noch ein
                        paar generelle Dinge:&lt;/p&gt;
                        
                        &lt;p&gt;Die von Vlad/Capistrano benutzte Shell ist nicht die interaktive Shell, die man selbst beim
                        Login über SSH bekommt. Um sicherzustellen, dass auch diese Tools die gleiche Konfiguration (bspw. den
                        Pfad zu einer angepassten Ruby-Version) haben, sollten die &lt;a href=&quot;http://uberspace.de/dokuwiki/cool:rails#ruby_aktivieren&quot;&gt;Anweisungen dafür&lt;/a&gt;
                        in die &lt;code&gt;.bashrc&lt;/code&gt; statt in die &lt;code&gt;.bash_profile&lt;/code&gt; geschrieben werden.&lt;/p&gt;
                        
                        &lt;p&gt;Die Anwendung selbst muss unterhalb &lt;code&gt;/var/www/virtual/username/&lt;/code&gt; liegen, damit der Apache darauf
                        zugreifen kann. Im einfachsten Fall würde man einfach in das &lt;code&gt;html&lt;/code&gt;-Verzeichnis dort deployen, was aber
                        mit der von den Deployment-Tools generierten Struktur (&lt;code&gt;current&lt;/code&gt;, &lt;code&gt;releases&lt;/code&gt;, &lt;code&gt;shared&lt;/code&gt;) ungünstig ist,
                        da diese dann im &lt;code&gt;DocumentRoot&lt;/code&gt; des Webservers liegen. Ich mache es daher so, die Anwendung in
                        &lt;code&gt;/var/www/virtual/username/rails/myapp&lt;/code&gt; zu deployen und einen &lt;a href=&quot;http://uberspace.de/dokuwiki/start:domain#in_sachen_webserver&quot;&gt;Symlink mit dem Hostnamen der Domain&lt;/a&gt;
                        auf das darin liegende &lt;code&gt;current/public&lt;/code&gt; zu setzen. Damit funktioniert dann auch der Zugriff aus die Assets
                        der Anwendung problemlos, ohne weitere Einstellungen in der &lt;code&gt;.htaccess&lt;/code&gt; machen zu müssen. Im Zusammenhang
                        mit den so verwendeten Domains sollte man den &lt;a href=&quot;http://uberspace.de/dokuwiki/start:domain#achtung_bei_rewriterules&quot;&gt;Hinweis zum angepassten DocumentRoot&lt;/a&gt;
                        beachten.&lt;/p&gt;
                        
                        &lt;h3&gt;Alternative Applikationsserver&lt;/h3&gt;
                        
                        &lt;p&gt;Statt FastCGI benutze ich Thin, generell treffen die nachfolgenden Dinge aber auch zu, sollte man sich
                        für die Verwendung von Unicorn, Puma, Mongrel oder Passenger Standalone entscheiden. Wichtig ist eigentlich
                        nur, dass man den Applikationsserver auf hohen Port laufen lässt und ihn &lt;a href=&quot;http://uberspace.de/dokuwiki/system:daemontools&quot;&gt;mittels Daemontools überwacht&lt;/a&gt;,
                        so dass er auch unabhängig von Webserver-Restarts persistent läuft.&lt;/p&gt;
                        
                        &lt;p&gt;Das &lt;code&gt;run&lt;/code&gt;-Script dafür, sieht dann beispielsweise folgendermaßen aus:&lt;/p&gt;
                        
                        &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
                        &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/home/username
                        &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.bash_profile
                        &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /var/www/virtual/username/rails/myapp/current
                        &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; /home/username/.gem/ruby/1.9.1/bin/bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;thin start -p 43862 -e production 2&gt;&amp;1
                        &lt;/pre&gt;
                        &lt;/div&gt;
                        
                        
                        &lt;p&gt;Zu guter letzt benötigt man unter &lt;code&gt;current/public&lt;/code&gt; noch eine &lt;code&gt;.htaccess&lt;/code&gt;-Datei, die eine RewriteRule
                        enthält, um die Requests an den Applikationsserver-Proxy weiterzuleiten. Im einfachsten Fall reicht
                        folgendes:&lt;/p&gt;
                        
                        &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;RewriteEngine&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;On&lt;/span&gt;
                        &lt;span class=&quot;nb&quot;&gt;RewriteBase&lt;/span&gt; /
                        &lt;span class=&quot;nb&quot;&gt;RewriteCond&lt;/span&gt; %{REQUEST_FILENAME} !-f
                        &lt;span class=&quot;nb&quot;&gt;RewriteRule&lt;/span&gt; ^(.*)$ http://localhost:43862/$1 [P]
                        &lt;/pre&gt;
                        &lt;/div&gt;
                        
                        
                        &lt;p&gt;Darüber hinaus gibt es hier auch noch eine Variante der &lt;a href=&quot;https://gist.github.com/3656874&quot;&gt;&lt;code&gt;.htaccess&lt;/code&gt; mit Asset-Caching und Wartungsmodus&lt;/a&gt;.&lt;/p&gt;
                        
                        &lt;p&gt;Sowohl uberspacify als auch das Vlad-Script kümmern sich darum diese Dateien entsprechend der
                        gegebenen Konfiguration zu generieren. Sollte jemand das Vlad-Script ausprobieren oder Anmerkungen
                        zu den hier gegebenen Tipps haben freue ich mich natürlich über Feedback dazu :)&lt;/p&gt;
                        
                        &lt;h3&gt;Bitte beachten!&lt;/h3&gt;
                        
                        &lt;p&gt;Uberspace hat ein SSH-Connection Limit, was auch gut so ist. Vlad wiederum öffnet für jedes Kommando
                        eine neue SSH-Verbindung, so dass man schnell mit dem Connection Limit kollidiert. Daher ist es sinnvoll,
                        SSH-Multiplexing zu aktivieren, was man mit folgenden Zeilen in der &lt;code&gt;~/.ssh/config&lt;/code&gt; tun kann:&lt;/p&gt;
                        
                        &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;Host *
                          ControlMaster auto
                          ControlPath /tmp/ssh-master-%r@%h:%p
                          ControlPersist 15m
                        &lt;/pre&gt;
                        &lt;/div&gt;
                        
                        
                        &lt;p&gt;Dies führt dazu, dass bei jedem weiteren Befehl die bereits bestehende SSH-Verbindung genutzt wird.
                        Man hat somit auch gleich ein schnelleres Deployment, daher wird auch in der &lt;a href=&quot;http://hitsquad.rubyforge.org/vlad/doco/faq_txt.html&quot;&gt;Vlad FAQ&lt;/a&gt;
                        generell dazu geraten, SSH-Multiplexing zu verwenden.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Ploppcasts</title>
    <link href="http://dennisreimann.de/blog/ploppcasts" />
    <updated>2012-06-29T16:28:00+02:00</updated>
    <id>http://dennisreimann.de/blog/ploppcasts</id>
    <content type="html">
      &lt;p&gt;&lt;img src=&quot;http://dennisreimann.de/images/content/ploppcasts.png&quot; alt=&quot;Ploppcasts&quot; /&gt;
                          Zusammen mit den Hamburger Kollegen &lt;a href=&quot;https://twitter.com/rubiii&quot;&gt;Daniel Harrington&lt;/a&gt;,
                          &lt;a href=&quot;https://twitter.com/halfbyte&quot;&gt;Jan Krutisch&lt;/a&gt; und &lt;a href=&quot;https://twitter.com/phoet&quot;&gt;Peter Schröder&lt;/a&gt;
                          sitze ich nun ein bis zweiwöchentlich Donnerstag abends virtuell beisammen,
                          um &lt;a href=&quot;http://ploppcasts.com&quot;&gt;Ploppcasts&lt;/a&gt; aufzunehmen: Unser Beitrag zu deutschsprachigem Podcasting
                          mit Themenschwerpunkt rund um alles was mit Ruby, Rails, Webentwicklung und Freelancertum
                          zu tun hat. Zu finden ist das Resultat dann in &lt;a href=&quot;http://itunes.apple.com/de/podcast/ploppcasts/id540729185&quot;&gt;iTunes&lt;/a&gt;,
                          bzw. lässt sich auch mit jeden anderen Feedreader &lt;a href=&quot;http://feeds.feedburner.com/Ploppcasts&quot;&gt;abonnieren&lt;/a&gt;.
                          Über Feedback und Bewertungen in iTunes freuen wir uns natürlich riesig!&lt;/p&gt;
                          
                          &lt;h3&gt;Setup&lt;/h3&gt;
                          
                          &lt;p&gt;Da ich auf der Suche nach einem geeigneten Setup zur Aufnahme bis auf einen &lt;a href=&quot;http://www.macworld.com/article/1162062/skype_garageband_podcast_tips.html&quot;&gt;Post auf MacWorld&lt;/a&gt;
                          nur wenig gefunden habe, hier auch noch ein paar Worte zu unserem Setup: Wir treffen uns in
                          Skype zu einem Gruppengespräch und nehmen mit dem &lt;a href=&quot;http://www.ecamm.com/mac/callrecorder/&quot;&gt;CallRecorder&lt;/a&gt;
                          die jeweiligen Tonspuren auf. CallRecorder beinhaltet mehrere Anwendungen, unter anderem auch eine, um
                          die einzelnen Aufnahmen in zwei Tonspuren aufzuteilen: Die eigene und die der anderen Gesprächsteilnehmer.&lt;/p&gt;
                          
                          &lt;p&gt;Die Einzelspuren werden dann in GarageBand übernommen und mit einer der Gesamtspuren abgeglichen, so
                          dass alle Teilnehmerspuren am Ende synchron sind. In GarageBand lässt sich auf der Rest eines Podcasts
                          ganz gut produzieren, wie beispielsweise Bilder und Shownotes einpflegen. Wer es richtig rund mag, könnte
                          auch noch endlos abgehen und Versprecher etc. rausschneiden, das ist uns aber ehrlich gesagt zu viel
                          Aufwand und wir hoffen, dass wir uns mit der Zeit was solche Dinge angeht einfach genügend verbessern,
                          um die Ähs und Öhs zu reduzieren ;)&lt;/p&gt;
                          
                          &lt;p&gt;Generell ist es ratsam, die Aufnahme mit einem vernünftigen externen Mikrofon zu machen,
                          wie beispielsweise dem &lt;a href=&quot;http://www.amazon.de/Samson-Mic-Clip-On-USB-Mikrofon/dp/B001R76D42&quot;&gt;Go Mic von Samson&lt;/a&gt;.
                          Das interne MacBook Mikrofon geht zwar auch, ist aber eben auch anfälliger für Störgeräusche die
                          durch&#8217;s nebenbei tippen oder das Rauschen der Festplatte entstehen. Absolut wichtig ist es, dass jede der
                          aufnehmenden Parteien Kopfhörer auf haben, ansonsten nimmt die eigene Spur auch das mit auf, was man selbst
                          von den anderen empfängt.&lt;/p&gt;
                          
                          &lt;p&gt;Wer sich auskennt, darf uns gerne wissen lassen, wie wir die Aufnahme darüber hinaus noch
                          verbessern könnten!&lt;/p&gt;
                          
                          &lt;h3&gt;Danke&lt;/h3&gt;
                          
                          &lt;p&gt;Vielen Dank an dieser Stelle auch an &lt;a href=&quot;https://soundcloud.com/ploppcasts&quot;&gt;SoundCloud&lt;/a&gt;, die uns
                          auf ihrer wunderbaren Plattform beherbergen und uns den Speicherplatz sponsorn. Außerdem geht
                          ein dickes Dankeschön an &lt;a href=&quot;http://nonuts.de&quot;&gt;Benjamin Rabe&lt;/a&gt;, der uns das schnieke Logo gefingermalt hat.
                          Wer uns folge möchte, findet und natürlich auch auf &lt;a href=&quot;https://twitter.com/ploppcasts&quot;&gt;Twitter&lt;/a&gt;
                          und &lt;a href=&quot;https://www.facebook.com/ploppcasts&quot;&gt;Facebook&lt;/a&gt;.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Deployment with Vlad</title>
    <link href="http://dennisreimann.de/blog/deployment-with-vlad" />
    <updated>2012-02-11T19:16:00+01:00</updated>
    <id>http://dennisreimann.de/blog/deployment-with-vlad</id>
    <content type="html">
      &lt;p&gt;When I ask people about how they deploy their Rails apps, most of them answer that they are using good old &lt;a href=&quot;http://capify.org&quot;&gt;Capistrano&lt;/a&gt;. It is the most popular solution because it has been around since almost when people started deploying Rails applications and it works well in most cases. However, if you want to do a lot of custom tasks and need to look under the hood to extend it, Capistrano seems somewhat complicated. At least it did at the time I left it in favor of &lt;a href=&quot;http://rubyhitsquad.com/Vlad_the_Deployer.html&quot;&gt;Vlad&lt;/a&gt; - an &lt;em&gt;imho&lt;/em&gt; more intuitive deployment tool.&lt;/p&gt;
                            
                            &lt;p&gt;Though one might not like the &lt;a href=&quot;http://rubyhitsquad.com/Ruby_Hit_Squad.html&quot;&gt;offense against Capistrano&lt;/a&gt; that was shown when Vlad was released in 2007, it addresses &lt;a href=&quot;http://www.infoq.com/news/2007/08/vlad-the-deployer&quot;&gt;some valid points&lt;/a&gt; when arguing against needless complexity. But enough of the history, this was almost five years ago, both of the tools have improved, made their way and all I wanted to share is some snippets and insights I got from using Vlad over the last years.&lt;/p&gt;
                            
                            &lt;p&gt;The main thing I like abot Vlad is that it is based on Rake, which makes it so easy to learn, understand and extend. If you want to do something custom, all you have to do is to write a Rake task. And as you will want to use them across different projects, you can even bundle them up and distribute them as a gem, like I&#8217;ve done with &lt;a href=&quot;https://github.com/dennisreimann/vlad-extras&quot;&gt;vlad-extras&lt;/a&gt;, a set of extensions for tools like DelayedJob, ThinkingSphinx, Monit, Whenever and so on.&lt;/p&gt;
                            
                            &lt;p&gt;Here is what a simple &lt;code&gt;config/deploy.rb&lt;/code&gt; file might look like:&lt;/p&gt;
                            
                            &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Custom variables used in the following config&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;appname&quot;&lt;/span&gt;
                            
                            &lt;span class=&quot;c1&quot;&gt;# Required variables&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:domain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.com&quot;&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:deploy_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/var/www/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:repository&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;git@github.com:myaccount/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.git&quot;&lt;/span&gt;
                            
                            &lt;span class=&quot;c1&quot;&gt;# Optional variables&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;deploy&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# if different from your current login&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:bundle_cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/local/bin/bundle&quot;&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:rake_cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bundle_cmd&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; exec rake&quot;&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:revision&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;origin/master&quot;&lt;/span&gt;
                            
                            &lt;span class=&quot;c1&quot;&gt;# vlad-extras config&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:copy_shared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                              &lt;span class=&quot;s1&quot;&gt;&#39;config/maintenance.html&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;config/maintenance.html&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                              &lt;span class=&quot;s1&quot;&gt;&#39;config/database.yml&#39;&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;config/database.yml&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:symlinks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                              &lt;span class=&quot;s1&quot;&gt;&#39;assets&#39;&lt;/span&gt;              &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;public/assets&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                              &lt;span class=&quot;s1&quot;&gt;&#39;config/database.yml&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;config/database.yml&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:deploy_tasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w(&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:maintenance:on&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:update&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:symlink&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:bundle:install&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:assets:precompile&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:migrate&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:start_app&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:maintenance:off&lt;/span&gt;
                            &lt;span class=&quot;sx&quot;&gt;  vlad:cleanup)&lt;/span&gt;
                            
                            &lt;span class=&quot;c1&quot;&gt;# Bundler ships with vlad integration you&#39;ll have to require&lt;/span&gt;
                            &lt;span class=&quot;c1&quot;&gt;# in order to use the vlad:bundle tasks&lt;/span&gt;
                            &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;bundler/vlad&#39;&lt;/span&gt;
                            
                            &lt;span class=&quot;c1&quot;&gt;# Require custom vlad tasks or recipes from vlad-extras&lt;/span&gt;
                            &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;vlad/maintenance&#39;&lt;/span&gt;
                            
                            &lt;span class=&quot;c1&quot;&gt;# Some custom tasks, can be included directly in the deploy file&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:vlad&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:custom_script&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                                &lt;span class=&quot;sx&quot;&gt;%w(start stop restart)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
                                  &lt;span class=&quot;n&quot;&gt;desc&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;capitalize&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; the custom script&quot;&lt;/span&gt;
                                  &lt;span class=&quot;n&quot;&gt;remote_task&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:roles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:app&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                                    &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cd &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current_release&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;; RAILS_ENV=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rails_env&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&lt;/span&gt;
                            &lt;span class=&quot;s2&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bundle_cmd&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; exec ruby script/custom &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
                                  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                                &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                              &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            &lt;/pre&gt;
                            &lt;/div&gt;
                            
                            
                            &lt;p&gt;Here is an example of how easy it is for instance to add staging support:&lt;/p&gt;
                            
                            &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:staging&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:rails_env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;staging&quot;&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:deploy_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/var/www/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rails_env&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
                            &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            
                            &lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:production&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:rails_env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;production&quot;&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:deploy_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/var/www/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rails_env&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
                            &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            &lt;/pre&gt;
                            &lt;/div&gt;
                            
                            
                            &lt;p&gt;All you need to do is to change some variables based on the environment that is set with a simple Rake task. You&#8217;d invoke it by running&lt;/p&gt;
                            
                            &lt;pre&gt;&lt;code&gt;$ bundle exec rake staging vlad:deploy
                            &lt;/code&gt;&lt;/pre&gt;
                            
                            &lt;h3&gt;Gemfile&lt;/h3&gt;
                            
                            &lt;p&gt;You can include Vlad and it&#8217;s requirements in the development group, because it you do not need it in any other environment. Requiring is done in the &lt;code&gt;Rakefile&lt;/code&gt; like shown below.&lt;/p&gt;
                            
                            &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:development&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                              &lt;span class=&quot;c1&quot;&gt;# Deployment&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;vlad&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;vlad-git&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;vlad-extras&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
                            &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            &lt;/pre&gt;
                            &lt;/div&gt;
                            
                            
                            &lt;h3&gt;Rakefile&lt;/h3&gt;
                            
                            &lt;p&gt;Add this snippet to your Rakefile, just before &lt;code&gt;MyApp::Application.load_tasks&lt;/code&gt;&lt;/p&gt;
                            
                            &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;development?&lt;/span&gt;
                              &lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
                                &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;vlad&#39;&lt;/span&gt;
                                &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;vlad-extras&#39;&lt;/span&gt;
                                &lt;span class=&quot;no&quot;&gt;Vlad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;scm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:nginx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:passenger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:rails&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                              &lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LoadError&lt;/span&gt;
                                &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Could not load Vlad&#39;&lt;/span&gt;
                              &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                            &lt;/pre&gt;
                            &lt;/div&gt;
                            
                            
                            &lt;p&gt;You might have to configure the options given to &lt;code&gt;Vlad.load&lt;/code&gt;.&lt;/p&gt;
                            
                            &lt;p&gt;If you want to get started, take a look at &lt;a href=&quot;http://hitsquad.rubyforge.org/vlad/&quot;&gt;the documentation&lt;/a&gt; to find out about the parts that this post leaves out.&lt;/p&gt;
                            
                            &lt;h2&gt;Troubleshooting&lt;/h2&gt;
                            
                            &lt;p&gt;This part is about some trouble I&#8217;ve had and it is not really Vlad specific. You might encounter these problems when trying to deploy to your production server and maybe these tips and links will help.&lt;/p&gt;
                            
                            &lt;h3&gt;The deployment shell environment&lt;/h3&gt;
                            
                            &lt;p&gt;If Vlad does not find some commands, try the following:&lt;/p&gt;
                            
                            &lt;p&gt;To enable per user PATH environments for ssh logins you need to add to your &lt;code&gt;sshd_config&lt;/code&gt;:&lt;/p&gt;
                            
                            &lt;pre&gt;&lt;code&gt;PermitUserEnvironment yes
                            &lt;/code&gt;&lt;/pre&gt;
                            
                            &lt;p&gt;After that, restart sshd!&lt;/p&gt;
                            
                            &lt;p&gt;Then in your users ssh home directory (&lt;code&gt;~/.ssh/environment&lt;/code&gt;), add something to this effect (your mileage will vary):&lt;/p&gt;
                            
                            &lt;pre&gt;&lt;code&gt;PATH=/opt/ruby-1.9.3/bin:/usr/local/bin:/bin:/usr/bin
                            &lt;/code&gt;&lt;/pre&gt;
                            
                            &lt;p&gt;For details on that, see this article on &lt;a href=&quot;http://zerobearing.com/2009/04/27/capistrano-rake-command-not-found&quot;&gt;setting the deployment shell environment&lt;/a&gt;&lt;/p&gt;
                            
                            &lt;h3&gt;SSH Agent Forwarding&lt;/h3&gt;
                            
                            &lt;p&gt;Maybe you also need to configure SSH Agent Forwarding:&lt;/p&gt;
                            
                            &lt;pre&gt;&lt;code&gt;$ ssh-add ~/.ssh/&lt;private_keyname&gt;
                            &lt;/code&gt;&lt;/pre&gt;
                            
                            &lt;p&gt;Edit your &lt;code&gt;~/.ssh/config&lt;/code&gt; file and add something like this:&lt;/p&gt;
                            
                            &lt;pre&gt;&lt;code&gt;Host &lt;name&gt;
                              HostName &lt;ip or host&gt;
                              User &lt;username&gt;
                              IdentityFile ~/.ssh/&lt;filename&gt;
                              ForwardAgent yes
                            &lt;/code&gt;&lt;/pre&gt;
                            
                            &lt;p&gt;For details on that see this article on &lt;a href=&quot;http://jordanelver.co.uk/articles/2008/07/10/rails-deployment-with-git-vlad-and-ssh-agent-forwarding/&quot;&gt;SSH Agent Forwarding&lt;/a&gt;&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Seeds for different environments</title>
    <link href="http://dennisreimann.de/blog/seeds-for-different-environments" />
    <updated>2012-01-25T13:59:00+01:00</updated>
    <id>http://dennisreimann.de/blog/seeds-for-different-environments</id>
    <content type="html">
      &lt;p&gt;Here&#8217;s a little Rails tip for splitting up seed data for various environments:
                              Create the folder &lt;code&gt;db/seeds/&lt;/code&gt;. For each environment you want to seed put a file in there named after the env. Your general seeds are put into &lt;code&gt;db/seeds/all.rb&lt;/code&gt;. Here&#8217;s what it might look like:&lt;/p&gt;
                              
                              &lt;pre&gt;&lt;code&gt;|___seeds
                              | |___all.rb
                              | |___development.rb
                              | |___staging.rb
                              | |___production.rb
                              |___seeds.rb
                              &lt;/code&gt;&lt;/pre&gt;
                              
                              &lt;p&gt;Change the content of your &lt;code&gt;db/seeds.rb&lt;/code&gt; to something like this:&lt;/p&gt;
                              
                              &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;all&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
                                &lt;span class=&quot;n&quot;&gt;seed_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/db/seeds/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seed&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.rb&quot;&lt;/span&gt;
                                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exists?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seed_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                                  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;*** Loading &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seed&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; seed data&quot;&lt;/span&gt;
                                  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seed_file&lt;/span&gt;
                                &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                              &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                              &lt;/pre&gt;
                              &lt;/div&gt;
                              
                              
                              &lt;p&gt;Running &lt;code&gt;rake db:seed&lt;/code&gt; will now load up the seed data defined in &lt;code&gt;db/seeds/all.rb&lt;/code&gt; and the current environment.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Configuring Nginx for the Asset Pipeline</title>
    <link href="http://dennisreimann.de/blog/configuring-nginx-for-the-asset-pipeline" />
    <updated>2011-12-07T15:00:00+01:00</updated>
    <id>http://dennisreimann.de/blog/configuring-nginx-for-the-asset-pipeline</id>
    <content type="html">
      &lt;p&gt;Following up on the series of posts about the Rails Asset Pipeline, here are some things to keep in mind when you are using Nginx as your webserver.&lt;/p&gt;
                                
                                &lt;h3&gt;Installation via Passenger&lt;/h3&gt;
                                
                                &lt;p&gt;When you are installing Nginx automatically with the script that comes with Passenger, you will not be able to serve the gzipped file variants that get precompiled. That&#8217;s because Passenger currently does not configure Nginx with the &lt;code&gt;http_gzip_static_module&lt;/code&gt; that would be necessary for including the directive &lt;code&gt;gzip_static on&lt;/code&gt;. I&#8217;ve opened a pull request for that, but for now you&#8217;ll have to choose the manual installation, if that&#8217;s what you are after - and why wouldn&#8217;t you?&lt;/p&gt;
                                
                                &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;# download and untar nginx&lt;/span&gt;
                                wget -O /tmp/nginx.tar.gz http://www.nginx.org/download/nginx-1.0.10.tar.gz
                                tar xzvf /tmp/nginx.tar.gz
                                rm /tmp/nginx.tar.gz
                                
                                &lt;span class=&quot;c&quot;&gt;# install nginx via passenger install script, already includes&lt;/span&gt;
                                &lt;span class=&quot;c&quot;&gt;# --with-http_ssl_module&lt;/span&gt;
                                &lt;span class=&quot;c&quot;&gt;# --add-module for passenger&lt;/span&gt;
                                passenger-install-nginx-module --auto --prefix&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;/opt/nginx&#39;&lt;/span&gt; --nginx-source-dir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;/tmp/nginx-1.0.10&#39;&lt;/span&gt; --extra-configure-flags&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--with-http_gzip_static_module&quot;&lt;/span&gt;
                                &lt;/pre&gt;
                                &lt;/div&gt;
                                
                                
                                &lt;p&gt;You might want to change the version and prefix to fit your needs. Like mentioned in the comments you don&#8217;t have to take care of including the passenger or ssl module, because the installation script adds them automatically.&lt;/p&gt;
                                
                                &lt;h3&gt;Nginx configuration&lt;/h3&gt;
                                
                                &lt;p&gt;This is already part of the &lt;a href=&quot;http://guides.rubyonrails.org/asset_pipeline.html#in-production&quot;&gt;Asset Pipeline Guide&lt;/a&gt;, but I&#8217;ll mention it here again, so that this article is complete - here are the directives for the assets location config:&lt;/p&gt;
                                
                                &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;^/(assets)/&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                                  &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/path/to/site&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                                  &lt;span class=&quot;kn&quot;&gt;gzip_static&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                                  &lt;span class=&quot;kn&quot;&gt;expires&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                                  &lt;span class=&quot;kn&quot;&gt;add_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Cache-Control&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                                  &lt;span class=&quot;c1&quot;&gt;# access_log /dev/null;&lt;/span&gt;
                                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                                &lt;/pre&gt;
                                &lt;/div&gt;
                                
                                
                                &lt;p&gt;&lt;del&gt;I&#8217;ve also disabled access logging, so that asset requests do not clutter up the log.&lt;/del&gt;&lt;/p&gt;
                                
                                &lt;p&gt;Mathias &lt;a href=&quot;https://twitter.com/#!/roidrage/status/144335957158658048&quot;&gt;brought up a good point&lt;/a&gt;, why one might not want to do that.&lt;/p&gt;
                                
                                &lt;h3&gt;Sendfile Header&lt;/h3&gt;
                                
                                &lt;p&gt;In your app&#8217;s &lt;code&gt;production.rb&lt;/code&gt; you should uncomment to following line, to let Nginx send static files:&lt;/p&gt;
                                
                                &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;action_dispatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x_sendfile_header&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;X-Accel-Redirect&#39;&lt;/span&gt;
                                &lt;/pre&gt;
                                &lt;/div&gt;
                                
                                
                                &lt;h3&gt;Verify that it&#8217;s working&lt;/h3&gt;
                                
                                &lt;p&gt;After deploying the changes, you can check if Nginx is now serving the gzipped compressed versions of your asset files. For that you can use tools like this
                                &lt;a href=&quot;http://www.whatsmyip.org/http-compression-test/&quot;&gt;HTTP Compression Tester&lt;/a&gt; and enter the address of your &lt;code&gt;application.js&lt;/code&gt; and &lt;code&gt;application.css&lt;/code&gt;&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Referencing Rails Assets in CoffeeScript</title>
    <link href="http://dennisreimann.de/blog/referencing-rails-assets-in-coffeescript" />
    <updated>2011-12-06T00:45:00+01:00</updated>
    <id>http://dennisreimann.de/blog/referencing-rails-assets-in-coffeescript</id>
    <content type="html">
      &lt;p&gt;Sometimes you&#8217;ll want to refer to your image assets from inside of your CoffeeScript (or JavaScript). While we have &lt;a href=&quot;http://guides.rubyonrails.org/asset_pipeline.html#coding-links-to-assets&quot;&gt;nice helpers for that in SASS&lt;/a&gt; (namely &lt;code&gt;image-path&lt;/code&gt; and &lt;code&gt;image-url&lt;/code&gt;), we would have to resort to appending .erb to every .js or .coffee file, we want to reference images in, so that we could use something like this in there:&lt;/p&gt;
                                  
                                  &lt;pre&gt;&lt;code&gt;icon = &lt;%= image_path('icon.png') %&gt;
                                  &lt;/code&gt;&lt;/pre&gt;
                                  
                                  &lt;p&gt;I didn&#8217;t like it that way, because ERB inside of CoffeeScript looks odd and having the file end with .erb messes up syntax highlighting. But we can circumvent this easily by adding this (admittedly not the most beautiful) piece of code to one single file that ends on .erb (i.e. &lt;code&gt;images.js.coffee.erb&lt;/code&gt;) and let it provide the helper method we need:&lt;/p&gt;
                                  
                                  &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&lt;%&lt;/span&gt;
                                  &lt;span class=&quot;n&quot;&gt;imgs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
                                  &lt;span class=&quot;no&quot;&gt;Dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chdir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/app/assets/images/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
                                    &lt;span class=&quot;n&quot;&gt;imgs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;**&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge!&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;
                                  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                                  &lt;span class=&quot;cp&quot;&gt;%&gt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;&lt;/span&gt;
                                  
                                  &lt;span class=&quot;x&quot;&gt;window.image_path = (name) -&gt;&lt;/span&gt;
                                  &lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;imgs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_json&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&gt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;[name]&lt;/span&gt;
                                  &lt;/pre&gt;
                                  &lt;/div&gt;
                                  
                                  
                                  &lt;p&gt;This adds up all images inside of &lt;code&gt;app/assets/images&lt;/code&gt; and makes them available via the global helper method &lt;code&gt;image_path&lt;/code&gt; - your milage may vary, but you get the idea. From there on it&#8217;s simply&lt;/p&gt;
                                  
                                  &lt;pre&gt;&lt;code&gt;icon = image_path('icon.png')
                                  &lt;/code&gt;&lt;/pre&gt;
                                  
                                  &lt;p&gt;inside of your CoffeeScript (or JavaScript) files and it also works in production as the returned filename contains the digest.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>OpenData Bremen</title>
    <link href="http://dennisreimann.de/blog/opendata-bremen" />
    <updated>2011-11-30T10:00:00+01:00</updated>
    <id>http://dennisreimann.de/blog/opendata-bremen</id>
    <content type="html">
      &lt;p&gt;Im Rahmen des OpenData-Wettbewerbs &lt;a href=&quot;http://apps4deutschland.de/&quot;&gt;Apps4Deutschland&lt;/a&gt; fand in Bremen am Freitag, den 11. November 2011 die Auftaktveranstaltung zu &lt;a href=&quot;http://daten.bremen.de/&quot;&gt;Apps4Bremen&lt;/a&gt; statt. Nach dem &lt;a href=&quot;http://daten.berlin.de/&quot;&gt;Vorbild Berlin&lt;/a&gt; macht nun auch das Land Bremen Teile der Daten staatlicher Stellen öffentlich und läd dazu ein, diese zu verwerten und sinnvoll aufzubereiten - auf der Apps4Deutschland-Website heißt es dazu:&lt;/p&gt;
                                    
                                    &lt;blockquote&gt;&lt;p&gt;Behörden in Deutschland erheben, speichern und verarbeiten viele interessante Daten. Dazu gehören Wetterdaten ebenso wie Informationen über die Luftqualität oder über die Verwendung der Steuergelder. Diese Daten sind von öffentlichem Interesse und bergen ein großes Potenzial für unsere Gesellschaft, weil sie Transparenz, Beteiligung, Innovationen und neue Dienstleistungen fördern.&lt;/p&gt;
                                    
                                    &lt;p&gt;Mit dem Wettbewerb „Apps für Deutschland“ laden wir Designer, Entwickler, Journalisten, Forscher und die breite Öffentlichkeit ein, Anwendungen zu schaffen, um diese Daten nutzbar zu machen.&lt;/p&gt;&lt;/blockquote&gt;
                                    
                                    &lt;p&gt;Da ich das Thema Open Government spannend finde und für sehr wichtig halte, war der Wettberwerb ein guter Anlass, um mir eine neue Spielwiese für die offenen Daten Bremens zu schaffen. Das Projekt ist mittlerweile nicht mehr online, lässt sich aber auf dem bisherigen Stand gut erweitern, da es bereits Beispiele für Datenimporter, Geokodierung und Darstellung von Orten auf einer Google Map enthält. Basis dafür sind Ruby on Rails und Backbone.js und der &lt;a href=&quot;https://github.com/dennisreimann/OpenData-Bremen&quot;&gt;Quelltext ist auf GitHub verfügbar&lt;/a&gt;, so dass das Projekt gerne erweitert werden kann. Gerne lasse ich mich auch &lt;a href=&quot;https://github.com/dennisreimann/OpenData-Bremen/issues&quot;&gt;auf Ideen, Verbesserungswünsche oder Fehler hinweisen&lt;/a&gt;.&lt;/p&gt;
                                    
                                    &lt;p&gt;Wer sich inspirieren lassen möchte, kann auch mal einen Blick in den &lt;a href=&quot;http://opendata-showroom.org/&quot;&gt;OpenData Showroom&lt;/a&gt; werfen, der Projekte aus aller Welt enthält, die sich offener Daten bedienen. Würde mich freuen, wenn sich viele weitere Leute finden, die mit den Daten was nettes auf die Beine stellen.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Precompiling Rails Assets for Development</title>
    <link href="http://dennisreimann.de/blog/precompiling-rails-assets-for-development" />
    <updated>2011-11-28T15:22:00+01:00</updated>
    <id>http://dennisreimann.de/blog/precompiling-rails-assets-for-development</id>
    <content type="html">
      &lt;p&gt;First off: I love Rails&#8217; &lt;a href=&quot;http://guides.rubyonrails.org/asset_pipeline.html&quot;&gt;asset pipeline&lt;/a&gt; from the bottom of my heart. It&#8217;s a great thing and makes frontend development such a lovely task. There are two little drawbacks though when using it in development: It slows down page reloads and clutters up the log output. Here I&#8217;ll show you how to get rid of that.&lt;/p&gt;
                                      
                                      &lt;p&gt;When you are mainly doing backend development or most of your apps frontend code doesn&#8217;t change too much do yourself a favor and precompile your assets for the development environment:&lt;/p&gt;
                                      
                                      &lt;pre&gt;&lt;code&gt;$ RAILS_ENV=development bundle exec rake assets:precompile
                                      &lt;/code&gt;&lt;/pre&gt;
                                      
                                      &lt;p&gt;This really speeds up page reloads as Rails does not need to look up and precompile the asset files every time a request hits the app anymore.&lt;/p&gt;
                                      
                                      &lt;p&gt;Another change you might want to make is to set &lt;code&gt;config.assets.debug&lt;/code&gt; to false in your development environment. This makes Sprocket concatenate all your files (users.css, search.css, …) into one javascript and stylesheet file (application.css):&lt;/p&gt;
                                      
                                      &lt;pre&gt;&lt;code&gt;config.assets.debug = false
                                      &lt;/code&gt;&lt;/pre&gt;
                                      
                                      &lt;p&gt;This also cleans up the noisy logging info concerning the asset files that were previously loaded one by one.&lt;/p&gt;
                                      
                                      &lt;p&gt;When you need to precompile additional assets that aren&#8217;t already referenced in you application.js or application.css you&#8217;ll want to move the &lt;code&gt;config.assets.precompile&lt;/code&gt; directive from production.rb to application.rb:&lt;/p&gt;
                                      
                                      &lt;pre&gt;&lt;code&gt;config.assets.precompile += %w( search.js )
                                      &lt;/code&gt;&lt;/pre&gt;
                                      
                                      &lt;p&gt;This isn&#8217;t directly related but while you are at speeding up our development experience you might also want to have a look at the &lt;a href=&quot;https://github.com/wavii/rails-dev-tweaks&quot;&gt;rails-dev-tweaks&lt;/a&gt; gem. This gem defines rules for managing what files get reloaded on page requests in development.&lt;/p&gt;
    </content>
  </entry>
  <entry>
    <title>Setting up Ubuntu with Teleport</title>
    <link href="http://dennisreimann.de/blog/setting-up-ubuntu-with-teleport" />
    <updated>2011-11-15T14:15:00+01:00</updated>
    <id>http://dennisreimann.de/blog/setting-up-ubuntu-with-teleport</id>
    <content type="html">
      &lt;p&gt;Some time ago I came across &lt;a href=&quot;https://github.com/gurgeous/teleport&quot;&gt;Teleport&lt;/a&gt; which pitches itself as a lightweight way to set up Ubuntu machines. Having failed at mastering the steep learning curve that full-blown tools like &lt;a href=&quot;http://www.opscode.com/chef/&quot;&gt;Chef&lt;/a&gt; or &lt;a href=&quot;http://projects.puppetlabs.com/projects/puppet&quot;&gt;Puppet&lt;/a&gt; provide, I was willing to give Teleport a shot. Teleport stays simple by focusing on Ubuntu and providing just the right set of tools to set up the whole Ruby/Rails eco system. This makes it less powerful than the other aforemention tools, but in my case it&#8217;s just what I was looking for.&lt;/p&gt;
                                        
                                        &lt;h3&gt;Some facts: Teleport …&lt;/h3&gt;
                                        
                                        &lt;ul&gt;
                                        &lt;li&gt;consists of a configuration (Telfile) plus files you want to be present on the target&lt;/li&gt;
                                        &lt;li&gt;copies itself onto the target via ssh and then runs itself there (hence the name)&lt;/li&gt;
                                        &lt;li&gt;works idempotently - run it over and over again without breaking the target&lt;/li&gt;
                                        &lt;/ul&gt;
                                        
                                        
                                        &lt;h3&gt;My setup&lt;/h3&gt;
                                        
                                        &lt;p&gt;For each project I store everything that belongs to Teleport in a specific &lt;code&gt;deployment&lt;/code&gt; folder. This folder might look something like this:&lt;/p&gt;
                                        
                                        &lt;pre&gt;&lt;code&gt;|____Telfile
                                        |____recipes
                                        | |____install_passenger_nginx.rb
                                        |____files
                                        | |____etc
                                        | | |____gemrc
                                        | | |____init.d
                                        | | | |____nginx
                                        | |____Gemfile
                                        | |____Gemfile.lock
                                        | |____opt
                                        | | |____nginx
                                        | | | |____conf
                                        | | | | |____nginx.conf
                                        &lt;/code&gt;&lt;/pre&gt;
                                        
                                        &lt;p&gt;The configuration is done inside the &lt;code&gt;Telfile&lt;/code&gt;:&lt;/p&gt;
                                        
                                        &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;deploy&quot;&lt;/span&gt;
                                        &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1.9.3&quot;&lt;/span&gt;
                                        &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;my-own-vps&quot;&lt;/span&gt;
                                        
                                        &lt;span class=&quot;n&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;deb http://ppa.launchpad.net/chris-lea/node.js/ubuntu lucid main&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;C7917B12&quot;&lt;/span&gt;
                                        
                                        &lt;span class=&quot;n&quot;&gt;packages&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w(openssl libreadline5 libreadline5-dev curl&lt;/span&gt;
                                        &lt;span class=&quot;sx&quot;&gt;  git-core libopenssl-ruby libcurl4-openssl-dev imagemagick&lt;/span&gt;
                                        &lt;span class=&quot;sx&quot;&gt;  libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev&lt;/span&gt;
                                        &lt;span class=&quot;sx&quot;&gt;  libmysqlclient-dev mysql-client mysql-server nodejs)&lt;/span&gt;
                                        
                                        &lt;span class=&quot;n&quot;&gt;recipes&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w(&lt;/span&gt;
                                        &lt;span class=&quot;sx&quot;&gt;  install_passenger_nginx.rb)&lt;/span&gt;
                                        &lt;/pre&gt;
                                        &lt;/div&gt;
                                        
                                        
                                        &lt;p&gt;&lt;code&gt;user&lt;/code&gt; defines the name of the account you will later use to deploy your app. This user gets added to the sudoers and your ssh key is uploaded for password-less login. &lt;code&gt;ruby&lt;/code&gt; tells Teleport which version to install and &lt;code&gt;server&lt;/code&gt; is the name you gave to the machine in your &lt;code&gt;~/.ssh/config&lt;/code&gt;.&lt;/p&gt;
                                        
                                        &lt;p&gt;As you can see you can also define customs apts and packages that should get installed. For performing special setup routines or invoking more complex tasks you can utilize the &lt;a href=&quot;https://github.com/gurgeous/teleport/wiki/Recipes&quot;&gt;recipes&lt;/a&gt; feature. Recipes are standalone files that can be written in Ruby and allow for sharing and reuse. Here&#8217;s an example of how to install nginx via the passenger gem:&lt;/p&gt;
                                        
                                        &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;version_gem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gem_version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;passenger&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                                        &lt;span class=&quot;n&quot;&gt;version_installed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`passenger-config --version`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;
                                        
                                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version_gem&lt;/span&gt;
                                          &lt;span class=&quot;nb&quot;&gt;warn&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Passenger is not installed. Please add it to your Gemfile.&quot;&lt;/span&gt;
                                        &lt;span class=&quot;k&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;version_installed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;version_gem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_s&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;banner&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Passenger &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version_installed&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; is already installed&quot;&lt;/span&gt;
                                        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;banner&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Installing Nginx via Passenger (installed: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version_installed&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;, gem version: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version_gem&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&quot;&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;passenger-install-nginx-module&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w(--auto --auto-download --prefix=/opt/nginx)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# install without prompting&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;update-rc.d nginx defaults&quot;&lt;/span&gt;                                                      &lt;span class=&quot;c1&quot;&gt;# activate autostart&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;service nginx restart&quot;&lt;/span&gt;                                                           &lt;span class=&quot;c1&quot;&gt;# restart nginx&lt;/span&gt;
                                        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
                                        &lt;/pre&gt;
                                        &lt;/div&gt;
                                        
                                        
                                        &lt;p&gt;The files directory contains files and directories that get copied over to the target machine - not much magic about that. To install system-wide gems you can place a Gemfile and Gemfile.lock inside the files directory.&lt;/p&gt;
                                        
                                        &lt;p&gt;Finally you can run the setup with&lt;/p&gt;
                                        
                                        &lt;pre&gt;&lt;code&gt;$ teleport my-own-vps
                                        &lt;/code&gt;&lt;/pre&gt;
                                        
                                        &lt;p&gt;Keep in mind that you can re-run this every time you make a change to the Telfile or add new files. Teleport strives to be idempotent and can be run  repeatedly without breaking the target machine(unless you explicitely messed up something ;)).&lt;/p&gt;
                                        
                                        &lt;h3&gt;Let&#8217;s go…&lt;/h3&gt;
                                        
                                        &lt;p&gt;There is much more to Teleport than what I could cover in this short post. For example you can define &lt;a href=&quot;https://github.com/gurgeous/teleport/wiki#wiki-telfile&quot;&gt;multiple servers with different roles&lt;/a&gt; or &lt;a href=&quot;https://github.com/gurgeous/teleport/wiki#wiki-infer&quot;&gt;reverse engineering existing servers&lt;/a&gt; which makes it very easy to generate a Telfile from your current setup. In case you want to get started head over to the &lt;a href=&quot;https://github.com/gurgeous/teleport/wiki&quot;&gt;project wiki&lt;/a&gt; which contains a lot of information and examples.&lt;/p&gt;
    </content>
  </entry>
</feed>
